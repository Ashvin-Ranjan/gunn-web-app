<!DOCTYPE html><html lang=en prefix="og: http://ogp.me/ns#"><title>Unofficial Gunn Web App (UGWA)</title><meta charset=UTF-8><meta content="width=device-width,initial-scale=1" name=viewport><link href=favicon/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=favicon/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=favicon/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=favicon/manifest.json rel=manifest><link href=favicon/safari-pinned-tab.svg rel=mask-icon color=#ff594c><link href=favicon/favicon.ico rel="shortcut icon"><meta content=favicon/browserconfig.xml name=msapplication-config><meta content=#ff594c name=theme-color><meta content=yes name=apple-mobile-web-app-capable><meta content=black name=apple-mobile-web-app-status-bar-style><meta content="A web app for Gunn students" name=description><meta content=UGWA property=og:title><meta content=website property=og:type><meta content=https://orbiit.github.io/gunn-web-app/ property=og:url><meta content=https://orbiit.github.io/gunn-web-app/images/opengraph.png property=og:image><meta content="A web app for Gunn students" property=og:description><meta content=summary name=twitter:card><meta content=UGWA name=twitter:title><meta content="A web app for Gunn students" name=twitter:description><meta content=https://orbiit.github.io/gunn-web-app/images/opengraph.png name=twitter:image><link href="https://fonts.googleapis.com/css?family=Roboto:300,400%7CMaterial+Icons" rel=stylesheet><style>*{-webkit-tap-highlight-color:transparent;-webkit-overflow-scrolling:touch}:focus{outline:0}body{margin:0;font-family:Roboto,sans-serif;font-size:0;transition:all .2s;animation:fade-in .66s;background-color:var(--background);color:var(--colour);--theme:#FF594C;--focus:rgba(255, 89, 76, 0.2)}@keyframes fade-in{0%{opacity:0}25%{opacity:0}100%{opacity:1}}.light{--navbar:#f5f5f5;--background:#fafafa;--off-switch-other-thing:#FAFAFA;--card:#FFFFFF;--colour:rgba(0,0,0,0.87);--secondary:rgba(0,0,0,0.54);--input-line:rgba(0,0,0,0.42);--disabled:rgba(0,0,0,0.38);--off-switch-back:rgba(0,0,0,0.38);--ripple:rgba(0,0,0,0.2);--fill:rgba(0,0,0,0.12);--light-border:rgba(0,0,0,0.05);--ripple-focus:rgba(0,0,0,0.05);--pure-contrast:black}.dark{--navbar:#212121;--background:#303030;--off-switch-other-thing:#BDBDBD;--card:#424242;--colour:white;--secondary:rgba(255,255,255,0.7);--input-line:rgba(255,255,255,0.7);--disabled:rgba(255,255,255,0.5);--off-switch-back:rgba(255,255,255,0.3);--ripple:rgba(255,255,255,0.3);--fill:rgba(255,255,255,0.12);--light-border:rgba(0,0,0,0.1);--ripple-focus:rgba(255,255,255,0.05);--pure-contrast:white}label{font-size:14px}.center{text-align:center}.right{text-align:right}a{color:#ff594c;text-decoration:none}.tab-focus a:focus,a:hover{text-decoration:underline}hr{border:none;border-top:1px solid CurrentColor;opacity:.2;width:150px;margin-left:0}button,input,select,textarea{font:inherit;-webkit-appearance:none}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration,input[type=search]::-webkit-search-results-button,input[type=search]::-webkit-search-results-decoration{display:none}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.material-icons{font-family:'Material Icons';font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:'liga';-webkit-font-smoothing:antialiased;width:24px;overflow:hidden}.section{display:none;position:fixed;overflow:auto;top:0;bottom:56px;left:0;right:0;max-width:1000px;margin:0 auto;padding:20px;box-sizing:border-box;z-index:1}.section h1{font-size:20px;font-weight:400}.section h2{font-size:16px;font-weight:400}.section p{font-size:14px}.footer-utilities .section.utilities{display:block}.footer-clubs .section.clubs{display:block}.footer-schedule .section.schedule{display:block}.footer-staff .section.staff{display:block}.footer-options .section.options{display:block}#footer{box-shadow:0 0 4px rgba(0,0,0,.3);position:fixed;bottom:0;left:0;width:100%;transition:all .2s;background-color:var(--navbar)}#footer ul{max-width:1000px;margin:0 auto;padding:0;list-style:none;display:flex;height:56px}#footer ul li{display:inline-block;height:100%;cursor:pointer;flex:1 0 0;text-align:center;padding-top:8px;position:relative;box-sizing:border-box;overflow:hidden;transition:all .2s;-webkit-user-select:none;user-select:none;color:var(--secondary)}.tab-focus #footer ul li:focus{background-color:var(--focus)}body #footer ul li.active{color:#ff594c;padding-top:6px}#footer ul li i{font-size:24px}#footer ul li span{display:block;text-align:center;font-size:12px;position:absolute;bottom:10px;left:0;right:0;white-space:nowrap;transition:font-size .2s}#footer ul li.active span{font-size:14px}#weekwrapper{display:table;margin:0 auto;text-align:center}#weekwrapper div{display:inline-block;width:30px;box-sizing:border-box;padding:0 2px}#weekwrapper div.today{width:40px}#weekwrapper h1{display:inline}#weekwrapper div.today h1{font-weight:700}#weekwrapper span{display:block;width:100%;height:10px;box-shadow:0 1px 3px 0 rgba(0,0,0,.3);margin:4px 0;background-size:cover;background-position:center}#seconds{font-size:50px;display:block;margin:0 auto;border:1px solid transparent;border-radius:50%;height:60px;width:60px;padding:15px;line-height:60px;text-align:center;position:relative;border-color:var(--fill)}#seconds::after{content:'';background-color:#f44336;width:1px;height:40%;position:absolute;bottom:50%;left:0;right:0;margin:auto;transform:var(--rotation);transform-origin:bottom;z-index:-1;transition:transform .2s cubic-bezier(0,1.4,1,1.23)}#seconds.notransition::after{transition:none}.search-wrapper{display:inline-block;margin:0 15px;position:relative}.search-wrapper .material-icons{font-size:16px;position:absolute;left:0;pointer-events:none;opacity:.5;margin:5.5px 6px}.notmaterial-input{border:none;background:0 0;color:inherit;font-size:14px;vertical-align:top;padding:5px;padding-left:25px;border-radius:5px;background-color:var(--fill)}#barcode{margin:0;padding:0;list-style:none}#barcode li:not(.right){display:flex;margin-bottom:10px}#barcode .canvas{flex:auto;position:relative}#barcode canvas{position:absolute;background-color:#fff;padding:20px;box-sizing:border-box;height:102px;width:100%;box-shadow:inset 0 0 3px rgba(0,0,0,.3);bottom:0;left:0;z-index:-1;border-radius:5px}#barcode canvas.viewbarcode{position:fixed;top:0;left:0;right:0;bottom:0;width:320px;height:40px;padding:calc(50vh - 20px) calc(50vw - 160px);box-sizing:content-box;border-radius:0;box-shadow:none;z-index:1}@media (orientation:portrait){#barcode canvas.viewbarcode{padding:calc(50vw - 20px) calc(50vh - 160px);transform:translateX(100vw) rotate(90deg);transform-origin:0 0}}#barcode input{width:100%;border:none;background:0 0;text-align:center;font-family:monospace;cursor:pointer;box-sizing:border-box;border-radius:5px}#barcode .barcode-student-id{font-size:50px;background-color:rgba(255,255,255,.8);padding:20px;height:102px;color:#000}#barcode .barcode-student-name{font-size:16px;padding:0;padding-top:10px;color:inherit}#barcode input:focus{cursor:text}#barcode div{font-size:0}#barcode div button{display:block;margin:10px}#mapimage{max-height:100vh;max-width:100%;margin:0 auto;display:block}body.dark #mapimage{-webkit-filter:hue-rotate(180deg) invert(1);filter:hue-rotate(180deg) invert(1)}.zoom-rotate{border-radius:50%;height:50px;width:50px;pointer-events:none;box-shadow:0 6px 24px rgba(0,0,0,.3);position:fixed;margin-left:-25px;margin-top:-25px;background-color:var(--card);z-index:1}.zoom-dial{background-color:#f44336;position:absolute;top:5px;bottom:50%;left:0;right:0;margin:0 auto;width:1px}#mapgoogle{height:calc(100vh - 96px)}.lists-enabled{display:none}#psadialog>.content,.block-of-text{line-height:1.8}#psadialog>.content p,.block-of-text p{margin:.5em 0}.percent-wrapper{display:inline-block;font-family:monospace;font-size:14px;background-color:rgba(255,255,255,.12);padding:5px 10px;border-radius:5px}body.light .percent-wrapper{background-color:rgba(0,0,0,.12)}.percent-wrapper input{width:6ch;text-align:right;padding:0;border:0;color:inherit;background:0 0;text-overflow:ellipsis}#anti-ugwaga{display:none;align-items:center;justify-content:center;text-align:center;position:fixed;top:0;left:0;right:0;bottom:0;cursor:pointer;z-index:100}#anti-ugwaga span{display:inline-block;max-width:400px;font-size:30px}.anti-ugwaga>:not(#anti-ugwaga){pointer-events:none;filter:blur(10px)}.anti-ugwaga #anti-ugwaga{display:flex}.small-heading{font-size:.8em;opacity:.7;text-transform:uppercase;display:block;margin-top:10px}.club-link{display:table;color:inherit}.chat-history{float:right;margin-top:-6px}.textarea{display:block;-webkit-appearance:none;border:none;background:0 0;background-color:rgba(0,0,0,.1);width:100%;box-sizing:border-box;resize:vertical;border-radius:10px;color:inherit;font-size:14px;font-family:monospace}#chat{min-height:0;height:0;padding:0 20px;transition:min-height .2s,padding .2s}.chat-enabled #chat,.textarea{min-height:150px;padding:20px}#chatter{display:none}.chat-enabled #chatter{display:block}#open-chat{display:block;margin:10px auto}.chat-enabled #open-chat{display:none}.send-msg-wrapper{display:flex}#msg-content{-webkit-appearance:none;border:none;background:0 0;background-color:var(--fill);color:inherit;height:36px;padding:0 15px;border-radius:20px;flex:auto;margin-right:10px}#preview{white-space:pre-wrap}.strikethrough{color:#ff594c;text-decoration:line-through}.chat-input-length{opacity:.5}#msg-content:disabled,#send:disabled{opacity:.5;pointer-events:none}.ios-cover,.ios-not-safari,.ios-ok,.not-ios-safari .ios-safari,.ok .ios-dialog{display:none}.ios-cover.show{display:block;position:fixed;top:0;left:0;bottom:0;right:0;z-index:10;background-color:rgba(0,0,0,.5)}.ios-dialog{position:absolute;background-color:rgba(255,255,255,.9);padding:0 20px;border-radius:20px;bottom:40px;left:20px;right:20px;text-align:center;color:#000;margin:0 auto;max-width:500px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.ios-dialog::after{content:'';position:absolute;top:100%;right:50%;margin-right:-15px;border-top:15px solid rgba(255,255,255,.9);border-left:15px solid transparent;border-right:15px solid transparent}@media (min-width:550px){.ipad .ios-dialog{bottom:auto;left:auto;right:20px;top:20px}.ipad .ios-dialog::after{top:auto;bottom:100%;right:121px;border-top:none;border-bottom:15px solid rgba(255,255,255,.9)}}.ios-dialog h1{font-size:18px;margin:0;margin-top:20px}.ios-dialog p{font-size:15px;margin:0;margin-top:10px}.ios-dialog .ios-small{font-size:12px}.ios-img{background-size:contain;background-repeat:no-repeat}.show .ios-share-icon{background-image:url(images/ios7share.png);height:20px;width:16px;display:inline-block}.show .ios-add-home{display:block;width:60px;height:60px;background-image:url(images/add-to-home-screen.jpg);border-radius:15px;margin:5px auto}#ios-no-thanks{color:#007aff}.ios-add{color:#007aff;font-weight:700}.ios-button-div{border-top:1px solid rgba(0,0,0,.1);margin:0 -20px;margin-top:10px;padding:5px}.not-ios-safari .ios-dialog{top:50%;bottom:auto;left:20px;right:20px;margin:auto;transform:translateY(-50%)}.not-ios-safari .ios-dialog::after{display:none}.not-ios-safari .ios-not-safari{display:block}.ios-cover.ok{display:flex;align-items:center;justify-content:center;background-color:#fff;pointer-events:none;animation:fade-out 2s 1s forwards}@keyframes fade-out{0%{opacity:1}100%{opacity:0}}.ok .ios-ok{display:block;font-size:80px;color:#000}:disabled{opacity:.5;pointer-events:none}div.ripple{position:absolute;height:20px;width:20px;margin-left:-10px;margin-top:-10px;transform:scale(0);pointer-events:none;border-radius:50%;background-color:var(--ripple)}div.ripple.ripple-focus{margin:auto;top:0;left:0;right:0;bottom:0;transform:scale(1);animation:pulse 1s ease-in-out infinite alternate;background-color:var(--ripple-focus)}@keyframes pulse{from{transform:scale(1.05)}to{transform:scale(.95)}}button.material{text-transform:uppercase;font-size:14px;border:none;background:0 0;cursor:pointer;overflow:hidden;display:inline-block;position:relative;height:36px;border-radius:2px;font-weight:700;padding:0 16px;vertical-align:bottom;color:var(--colour);margin:0}button.material.icon{width:36px;padding:0;border-radius:50%;text-align:center;font-size:0}button.material.red{color:var(--theme)}button.material.raised{background-color:var(--theme);color:#fff;box-shadow:0 1px 3px 0 rgba(0,0,0,.3)}.tab-focus button.material:focus{box-shadow:0 0 0 5px var(--focus)}.schedule-container button.material{transition:background-color .2s}.schedule-container button.material:hover{background-color:var(--ripple)}.material-switch{display:inline-block;margin:0;height:14px;width:36px;border-radius:7px;margin:0 15px;vertical-align:bottom;cursor:pointer;position:relative;transition:all .2s;background-color:var(--off-switch-back)}.material-switch.checked{background-color:rgba(255,89,76,.5)}.material-switch::before{content:'';position:absolute;opacity:0;pointer-events:none;height:12px;width:12px;margin:1px;border-radius:50%;transition:all .2s;left:0;background-color:var(--pure-contrast)}.material-switch:focus::before{opacity:.1;transform:scale(4)}.material-switch.checked::before{background-color:var(--theme);left:calc(100% - 14px)}.material-switch::after{content:'';display:block;border-radius:50%;height:20px;width:20px;margin-left:-3px;margin-top:-3px;position:absolute;left:0;transition:all .2s;box-shadow:0 1px 5px rgba(0,0,0,.3);background-color:var(--off-switch-other-thing)}.material-switch.checked::after{background-color:var(--theme);left:calc(100% - 20px);margin-left:3px}.radio-wrapper,.radio-wrapper *{cursor:pointer}.material-radio{-webkit-appearance:none;-moz-appearance:none;height:16px;width:16px;margin:0;vertical-align:bottom;display:inline-block;position:relative;border-radius:50%;box-sizing:border-box;border:2px solid #000;margin-right:15px;transition:all .2s;border-color:var(--secondary)}.material-radio::after,.material-radio::before{content:'';display:block;height:8px;width:8px;position:absolute;transform:scale(0);background:var(--theme);top:2px;left:2px;transition:all .2s;pointer-events:none;border-radius:50%}.material-radio::before{opacity:0;top:1px;left:1px;height:10px;width:10px}.material-radio:checked{border-color:var(--theme)}.material-radio:checked::after{transform:scale(1)}.material-radio:focus::before{transform:scale(4);opacity:.1}.is-joke{overflow:hidden;margin:0;max-height:0;transition:all .2s}.radios-wrapper:hover .is-joke{margin:1em 0;max-height:17px}.joke-explanation{margin-left:5px;opacity:0;transition:all .2s}.is-joke:hover .joke-explanation{margin-left:15px;opacity:.5}ul.material-list{margin:0;padding:0;list-style:none;padding:8px 0;margin-left:-20px;margin-right:-20px}ul.material-list li{display:inline-block;width:100%;padding:20px 16px;box-sizing:border-box;overflow:hidden;position:relative;vertical-align:top}.tab-focus ul.material-list li:focus{background-color:var(--focus)}ul.material-list.clickables li{cursor:pointer}ul.material-list.two-line li{min-height:72px}ul.material-list.three-line li{min-height:88px}@media (min-width:540px){ul.material-list.short li{width:50%}}@media (min-width:710px){ul.material-list.short li{width:calc(100% / 3)}}@media (min-width:900px){ul.material-list.short li{width:25%}}ul.material-list span{display:block}ul.material-list span.primary{font-size:16px}ul.material-list span.secondary{font-size:14px}body.light .get-error,ul.material-list li.error,ul.material-list span.secondary{color:var(--secondary)}.get-error,ul.material-list li.error{width:100%;font-size:14px;cursor:default;text-align:center;min-height:auto}.material-dialog{position:fixed;box-sizing:border-box;margin:auto;top:0;left:0;right:0;bottom:0;max-width:500px;height:50vh;box-shadow:0 6px 24px rgba(0,0,0,.3);padding:24px;border-radius:2px;padding-top:64px;padding-bottom:52px;opacity:0;pointer-events:none;transform:translateY(-5px);transition:all .2s;z-index:2}.material-dialog.show{opacity:1;pointer-events:all;transform:translateY(0)}.material-card,.material-dialog{background-color:var(--card)}.material-dialog>h1{position:absolute;top:0;left:0;margin:0;padding:24px;padding-bottom:20px;font-size:20px;line-height:1;width:100%;box-sizing:border-box;box-shadow:inset 0 -1px 0 var(--light-border)}.material-dialog>.content{font-size:14px;height:100%;box-sizing:border-box;padding:20px 0;overflow:auto;line-height:1.4}.material-dialog>.buttons{height:52px;box-sizing:border-box;padding:8px 24px;position:absolute;bottom:0;left:0;width:100%;text-align:right;box-shadow:inset 0 1px 0 var(--light-border)}.material-card{margin:14px 0;padding:24px;border-radius:2px;box-shadow:0 1px 3px 0 rgba(0,0,0,.3);font-size:14px;overflow:auto}.material-dropdown{display:inline-block;position:relative;vertical-align:middle;font-size:14px;margin:0 5px}.tab-focus .material-dropdown :focus{box-shadow:0 0 0 5px var(--focus)}.mdrop-selected{display:inline-flex;overflow:hidden;height:48px;align-items:center;padding:0 16px;position:relative;cursor:pointer;border-radius:4px;box-shadow:0 1px 3px 0 rgba(0,0,0,.3);background-color:var(--card)}.mdrop-values{position:absolute;top:100%;margin-top:-5px;opacity:0;pointer-events:none;transform:translateY(-5px);transition:all .2s;z-index:2;border-radius:4px;box-shadow:0 1px 3px 0 rgba(0,0,0,.3);background-color:var(--card);padding:8px 0;white-space:nowrap}.mdrop-values.show{opacity:1;pointer-events:all;transform:translateY(0)}.mdrop-value{display:flex;height:48px;align-items:center;padding:0 16px;cursor:pointer;overflow:hidden;position:relative}.colourpicker-window{box-shadow:0 6px 24px rgba(0,0,0,.3);padding:24px;border-radius:2px;line-height:1;transition:all .2s;font-size:0;z-index:2;background-color:var(--card)}.colourpicker-input{display:block;border:none;padding:0;width:127px;font-size:16px;height:16px;margin-bottom:12px;background:0 0;color:inherit}.colourpicker-svslider{width:100px;height:100px;display:inline-block;margin-right:12px;border-radius:2px}.colourpicker-svindicator{border:1px solid #fff;border-radius:50%;height:5px;width:5px;margin-left:-3px;margin-top:-3px;box-shadow:0 0 3px rgba(0,0,0,.3),inset 0 0 3px rgba(0,0,0,.3)}.colourpicker-hueslider{width:15px;height:100px;display:inline-block;border-radius:2px}.colourpicker-hueindicator{border:1px solid #fff;border-width:1px 0;margin-top:-1px;width:100%;box-shadow:0 0 3px rgba(0,0,0,.3)}.datepicker-wrapper{position:fixed;margin:auto;top:0;left:0;right:0;bottom:0;height:50vh;width:210px;box-shadow:0 6px 24px rgba(0,0,0,.3);padding:24px;border-radius:2px;line-height:1;padding-top:64px;transition:all .2s;z-index:2;background-color:var(--card)}.datepicker-wrapper.hide{opacity:0;pointer-events:none;transform:translateY(-5px)}.datepicker-dayheadings{background-color:inherit;padding:24px;padding-bottom:20px;box-sizing:border-box;font-size:20px;height:64px;box-shadow:inset 0 -1px 0 var(--light-border)}.datepicker-days{padding-top:20px}.datepicker-monthalt:not(.datepicker-selected){background-color:var(--ripple-focus)}.datepicker-month{font-size:50px;display:block;text-align:center;width:100%;font-weight:300;color:var(--ripple)}.datepicker-day{cursor:pointer;height:14px;font-size:14px;padding:5px 0}.datepicker-day.datepicker-selected{background-color:var(--theme);color:#fff}.datepicker-day.datepicker-today:not(.datepicker-selected){color:var(--theme)}.datepicker-day:not(.datepicker-today):not(.datepicker-selected):first-child,.datepicker-day:not(.datepicker-today):not(.datepicker-selected):last-child{color:var(--disabled)}.datepicker-days::-webkit-scrollbar{display:none}.customiser-wrapper{display:flex;margin:20px 0}button.customiser-colour{width:36px;background-size:cover;background-position:center}.customiser-inputwrapper{position:relative;flex:auto;margin:0 20px;line-height:1}.customiser-label{font-size:16px;position:absolute;top:16px;height:1em;transition:all .2s;pointer-events:none;color:var(--secondary)}.customiser-inputwrapper.filled .customiser-label{font-size:12px;top:-4px}.customiser-inputwrapper.focus .customiser-label{font-size:12px;color:var(--theme);top:-4px}body.light .customiser-inputwrapper.focus .customiser-label{opacity:.87}.customiser-input{font-size:16px;background:0 0;padding:0;border:0;position:absolute;color:inherit;top:16px;cursor:pointer;width:100%}.customiser-line{position:absolute;height:1px;top:32px;margin-top:8px;width:100%;transition:all .2s;pointer-events:none;background-color:var(--input-line)}.customiser-inputwrapper.hover .customiser-line{height:2px;background-color:var(--colour)}.customiser-inputwrapper.focus .customiser-line{height:2px;background-color:var(--theme)}.customiser-colourwrapper{width:133.75px;margin-right:-6.75px;margin-top:5.25px}.customiser-materialcolour{margin-right:6.75px;margin-top:6.75px;display:inline-block;height:20px;width:20px;border-radius:50%;cursor:pointer;background-color:var(--pure-contrast)}.customiser-image{-webkit-appearance:none;padding-left:5px;width:0;min-width:100%;box-sizing:border-box;margin-top:10px}.confetti{position:fixed;margin:-60px;z-index:1000;pointer-events:none}button.material.icon.asgn-done-btn{width:48px;height:48px;vertical-align:middle;margin-left:-16px;color:inherit;text-shadow:inherit}.schedule-container .asgn-done-btn{transition:background-color .2s}.schedule-container .asgn-done-btn:hover{background-color:var(--ripple)}.asgn-done-btn .material-icons{pointer-events:none;padding:10px}.asgn-line{font-size:14px;position:relative}.asgn-line .asgn-category{margin-right:10px}.asgn-due-date{color:var(--secondary);margin-left:10px}.asgn-text{cursor:pointer;font-size:16px}.asgn-is-done{text-decoration:line-through;opacity:.5}.asgn-upcoming .asgn-is-done button.material.icon.asgn-done-btn{color:var(--theme)}.asgn-text:hover,.tab-focus .asgn-text:focus{text-decoration:underline}.asgn-due,.asgn-overdue{font-weight:700;color:#fff;text-shadow:none;background-color:#f44336;padding:5px 10px;border-radius:5px;text-transform:uppercase;margin-right:10px;font-size:12px}.asgn-overdue{background-color:#ff9800;color:#000}.asgn-line::after{position:absolute;right:0;top:0;font-size:24px}.asgn-importance-1:not(.asgn-is-done)::after{content:'!';color:var(--secondary)}.asgn-importance-2:not(.asgn-is-done)::after{content:'!!!';color:#2196f3}.asgn-category{display:inline-flex;height:32px;border-radius:16px;padding:0 12px;align-items:center;background-color:#969896;color:#fff;font-size:14px;text-shadow:none}.asgn-category-homework{background-color:#8abeb7;color:#000}.asgn-category-preparation{background-color:#b294bb;color:#000}.asgn-category-worksheet{background-color:#fff;color:#000;box-shadow:0 1px 3px rgba(0,0,0,.3)}.asgn-category-reading{background-color:#c66;color:#000}.asgn-category-quiz{background-color:#b5bd68;color:#000}.asgn-category-test{background-color:#81a2be;color:#000}.asgn-category-exam{background-color:#de935f;color:#000}.asgn-category-presentation{background-color:#f0c674;color:#000}.asgn-category-materials{background-color:#a3685a;color:#000}.asgn-category-other{background-color:#969896;color:#000}button.add-asgn{float:right;color:inherit;text-shadow:inherit}.add-asgn i{pointer-events:none}.schedule-container button.add-asgn{opacity:0;pointer-events:none;transition:all .2s}.schedule-container .schedule-period:hover .add-asgn{opacity:1;pointer-events:all}#asgn-editor .content button{vertical-align:middle}#asgn-content{-webkit-appearance:none;border:none;background:0 0;width:100%;padding:20px;box-sizing:border-box;resize:vertical;background-color:var(--fill);border-radius:10px;color:inherit}#asgn-delete{float:left}.importance button{margin-left:10px;color:var(--theme);transition:all .2s}#low-imp{--theme:#9E9E9E}#medium-imp{--theme:#607D8B}#high-imp{--theme:#2196F3}.schedule-container{width:100%;box-sizing:border-box;padding:0 10px;font-size:0;line-height:1.5;font-family:Roboto,sans-serif}.schedule-container .schedule-dayname{font-weight:400;font-size:60px;margin:0;text-align:center}.schedule-container .schedule-date{font-weight:400;font-size:20px;margin:0;text-align:center;margin-bottom:20px}.totally-not-a-link{color:inherit}.schedule-container .schedule-alternatemsg,.schedule-container .schedule-noschool{font-size:14px;text-align:center;display:block}body.light .schedule-container .schedule-alternatemsg,body.light .schedule-container .schedule-noschool{color:rgba(0,0,0,.54)}body.dark .schedule-container .schedule-alternatemsg,body.dark .schedule-container .schedule-noschool{color:rgba(255,255,255,.7)}.schedule-container .schedule-noschool{margin:15px 0}.schedule-container .schedule-endingin{font-size:14px}.schedule-endinginperiod{padding:5px;box-shadow:0 1px 3px 0 rgba(0,0,0,.3);border-radius:2px;background-size:cover;background-position:center}.schedule-container .schedule-periodprogress{height:4px;margin:10px 0;border-radius:2px;overflow:hidden}body.light .schedule-container .schedule-periodprogress{background-color:rgba(0,0,0,.2)}body.dark .schedule-container .schedule-periodprogress{background-color:rgba(255,255,255,.2)}.schedule-container .schedule-periodprogress>div{height:100%;border-radius:2px}body.light .schedule-container .schedule-periodprogress>div{background-color:rgba(0,0,0,.8)}body.dark .schedule-container .schedule-periodprogress>div{background-color:rgba(255,255,255,.8)}.schedule-container .schedule-period{margin:14px 0;padding:24px;border-radius:2px;box-shadow:0 1px 3px 0 rgba(0,0,0,.3);font-size:14px;background-size:cover;background-position:center}.schedule-container .schedule-period>span{display:block}.schedule-container .schedule-periodname{font-size:24px;font-weight:300;margin-bottom:8px}</style><script>if(!window.cookie)try{window.cookie=localStorage}catch(e){window.cookie={getItem:e=>cookie[e],setItem(e,o){cookie[e]=o},removeItem(e){delete cookie[e]},length:0,key:()=>null}}</script><script>const langs={};langs.en={html:{utilities:"Utilities",clubs:"Clubs",schedule:"Schedule",staff:"Staff",options:"Options","pausd-login":"PAUSD Login Page",barcode:"Barcode","barcode-desc-before-link":"Click on the eye icon to display; turn up your screen brightness to the max when scanning just in case. Edits are saved automatically. For the curious, student ID cards use Code 39, which you can read about on ",wikipedia:"Wikipedia","barcode-desc-after-link":".","add-barcode":"Add barcode",minscore:"Minimum finals score calculator","current-grade":"Current grade: ","finals-worth":"Portion of grade the final determines: ","min-grade":"Minimum acceptable grade: ",map:"Map","for-image":"For the image:","image-instruct":" You can use a finger to pan, or two to rotate, zoom, and pan. You can use your mouse to drag, or scroll to zoom or right-click to rotate.","for-gmaps":"For Google Maps:","gmaps-instruct":" Only works when you're connected to the internet. If you're on touchscreen and can't scroll back up, try scrolling on the buttons.","club-list":"Club list","clubs-disclaimer-before-link":"Please note that club information was taken from their ","clubs-disclaimer-link":"chartered club list as of February 2nd, 2019","clubs-disclaimer-after-link":". Apparently some of their information turned out to be inaccurate, so blame them, not us.","lists-disabled":"You've disabled the club and staff lists","turn-back-on":"Turn back on","select-date":"select date",events:"Events","staff-list":"Staff list","last-psa":"Last PSA","before-version":"You are using the ","after-version":" version.",theme:"Theme","light-theme":"Light theme","dark-theme":"Dark theme","neither-theme":"Neither theme","time-formatting":"Time formatting","12h":"12-hour","24h":"24-hour","title-compact":"Tab title compactness",units:"Units included",numbers:"Numbers only","disable-lists":"Disable club/staff lists",periods:"Periods","periods-desc":"Click on the coloured square to change period colour.","show-self":"Show SELF","hide-self":"Hide SELF","control-centre":"Control Centre","control-centre-desc":"If UGWA isn't updating, try these buttons.",reload:"Restart UGWA","trick-cache":"trick the cache","staff-name":"Staff name",close:"Close","club-name":"Club name",psa:"From the Creators",ok:"OK","add-ugwa":"To add UGWA to your home screen",desktop:"Desktop","desktop-instruct":' — bookmark this page or pin this tab (right click on the tab and select "Pin tab")',chromebook:"Chromebook","chromebook-instruct":" — pin this page to the shelf (menu > more tools > add to shelf)",ios:"iOS","ios-instruct":' — tap on the share icon and select "add to home screen"',android:"Android","android-instruct":' — tap on the menu and select "add to home screen"',bugs:"Bug reports","before-gh-link":"You can ","gh-link":"make a new issue on GitHub","inter-link":" or email ","sean-email":"sy24484@pausd.us","after-email":" to make a feature request or bug report.",browsers:"UGWA only aims to support the latest versions of Chrome and iOS Safari (not MacOS Safari); other versions are low-priority.",about:"About",intent:"The app was originally made to make the features of TheGunnApp available to Chromebook users.","before-source-link":"UGWA is open sourced on ",github:"GitHub","after-source-link":".","other-versions":"Other versions: ","gunn-schedule":"Gunn Schedule","inter-link-1":" (no alternate schedules) · ",ugwita:"Ugwita","inter-link-2":" (ugly) · ",ugwa2:"Ugwa 2","inter-link-3":" (not done) · ",ugwisha:"Ugwisha","after-links":"",lonely:"UGWA is lonely and needs friends! You should make your own schedule app.","other-apps":"Gunn apps made by other people: ","tga-ios":"TheGunnApp","inter-link-4":" by the iOS App Development club · ","tga-android":"TheGunnApp","inter-link-5":" by David C. · ",nugwa:"Not UGWA","after-apps":" by Tomer S.",credits:"Credits",sean:"Sean","sean-creds":" made most of the app.",henry:"Henry","henry-creds":" made the Google Maps overlay.",search:"Google Search","inter-comma":", ",so:"Stack Overflow","inter-and":", and ",mdn:"MDN","service-creds":" helped.","feature-based":"Many features based on the original Gunn App.","before-material":"Design based on ",material:"Material Design","after-material":"'s icons, colours, and specifications.",languages:"Languages","this-is-joke":"(This is a joke.)","no-hour":"No hours",comm:"Interstudent communication","prev-chats":"Previous chats","open-chat":"Join chat",send:"Send","msg-note":"Only consonants, numbers, spaces, and a few punctuation marks are allowed. 5 messages per 10 seconds.","want-ugwa-normal":"To install UGWA like a normal app:","safari-only":"(this can only be done in the Safari app)","b4-share-icon":"Tap the share button ","b4-add-home":', select "',"add-home":"Add to Home Screen","b4-add-home-img":'" in the bottom row,',"b4-add":'then tap "',add:"Add","after-add":'."',"use-safari":"Open UGWA in Safari first; this can't be done anywhere else.",naw:"Thanks but no thanks",heaucques:"OK.",assignments:"Assignments","asgn-display":"Upcoming assignments position","asgn-before":"Before the schedule","asgn-after":"After the schedule","asgn-none":"New Zealand","asgn-sort":"Sorting method","asgn-chrono-primero":"By due date","asgn-important-importance":"By priority","asgn-algorithms":"By use of A L G O R I T H M S","edit-asgn":"Assignment properties","delete-asgn":"Delete","cancel-asgn":"Cancel","save-asgn":"Save","asgn-before-pd":"Due by ","asgn-between-pd-date":" on ","asgn-after-date":".",category:"Category:",importance:"Priority:",low:"low",medium:"medium",high:"high",transfer:"Cross-device settings transfer","export-copy":"copy export code","export-file":"download export code","import-file":"Or upload a file: ",import:"import"},other:{"anti-ugwaga":"Click/tap to continue to the Unofficial Gunn Web App","psa-error":"; couldn't get last PSA; maybe you aren't connected to the internet?","no-study-before-emph":"You ","no-study-emph":"don't need to study","no-study-after-emph":"; even if you score 0%, you'll be above your threshold.","zero-error":"Please don't enter so many zeroes.","minscore-before-emph":"You'll need to score at least ","minscore-after-emph":" to keep your parents happy.","minscore-too-high-addendum":" If there's no extra credit, you're screwed.",gmaps:"use google maps",image:"use the image","gmaps-error":"Google Maps not loading! Maybe you aren't connected to the internet?",you:"You","barcode-legacy-default":"Student #{N}","barcode-default":"Intellectual student","barcode-student-placeholder":"Whose ID is this?",ds:"S  M  T  W  &Theta;  F  S",mos:"jan  feb  mar  apr  may  jun  jul  aug  sep  oct  nov  dec","no-school":"No school today!",flex:"Flex",brunch:"Brunch",lunch:"Lunch",self:"SELF",periodx:"Period {X}",months:"January  February  March  April  May  June  July  August  September  October  November  December",loading:"Loading","no-events":"No events today :(","events-error":"; couldn't get events; maybe you aren't connected to the internet?",days:"Sunday  Monday  Tuesday  Wednesday  Thursday  Friday  Saturday","default-alt-msg":"good luck with our schedule lol","period-name-label":"Set label for ","enable-lists":"Enable club/staff lists","supreme-leader":"Supreme Leader",universe:"Universe","blamed-teacher":"Blamed Teacher","staff-error":"; couldn't get staff data; maybe you aren't connected to the internet?",title:"Title:",department:"Department:",email:"Email:",phone:"Phone:",website:"Website:",basement:"Basement:","oc-basement":"OC's Basement","sophomore-club":"Sophomore Club","soph-desc":"A club to commemorate the class of 2021, the first class to undergo SELF, with one of the best attendance rates. All grades welcome!","soph-day":"Thursday","soph-time":"Flex","soph-room":"Any room","soph-prez":"Tara Firenzi","soph-teacher":"Courtney Carlomagno","soph-email":"ccarlomagno@pausd.org","club-error":"; couldn't get club data; maybe you aren't connected to the internet?",day:"Meeting day:",time:"Meeting time:",location:"Location:",desc:"Description:",presidents:"President(s):",advisors:"Teacher Advisor(s):","teacher-email":"Teacher Email:",donation:"Suggested donation:","before-alt-msg":'This is an alternate schedule. The school says, "',"after-alt-msg":'"',appname:"Unofficial Gunn Web App (UGWA)","add-to-list":"Add to my clubs","remove-from-list":"Remove from my clubs","lunch-clubs":"Clubs",summer:"Enjoy your summer!","image-url":"Image URL",cannot:"There was a problem fetching the image.","add-asgn":"Add assignment",asgn:"Upcoming assignments",overdue:"overdue",doneify:"Mark as done",undoneify:"Unmark as done",due:"due","asgn-cat-homework":"homework","asgn-cat-preparation":"preparation","asgn-cat-worksheet":"worksheet","asgn-cat-reading":"reading","asgn-cat-quiz":"quiz","asgn-cat-test":"test","asgn-cat-exam":"exam","asgn-cat-presentation":"presentation","asgn-cat-materials":"materials","asgn-cat-other":"other","import-warning":"This will permanently override your existing settings. Do you want that?","import-problem":"There was a problem.","export-file-name":"the-settings-of-a-great-intellectual-gunn-student.json"},placeholders:{clubs:"Search clubs",staff:"Search staff","send-msg":"Send a message",assignment:"Assignment",import:"Paste exported settings here"},times:{duration:({T:e})=>e<1?"less than a minute":(e>=120?Math.floor(e/60)+" hours":e>=60?"an hour":"")+(e%60==0?"":(e>=60?" and ":"")+(e%60==1?"a minute":e%60+" minutes")),date:"{M} {D}",ended:"{P} ended {T} ago.",ending:"{P} ending in {T}.","ending-short":"{T} left",starting:"{P} starting in {T}.","starting-short":"{T} until {P}",long:"{T} long","self-ended":"Ended {T} ago.","self-starting":"Starting in {T}.","self-ending":"Ending in {T1}; started {T2} ago.","due-date":({P:e,D:t})=>"due by "+(e?e+" on ":"")+t}};const e={en:"English","en-gt":"English (Google Translated through Chinese)"};if(!e[cookie.getItem("[gunn-web-app] language")]){let t="en";if(navigator.languages)t=navigator.languages.find(t=>e[t])||t;else{const n=navigator.language||navigator.userLanguage;e[n]&&(t=n)}cookie.setItem("[gunn-web-app] language",t)}let n=cookie.getItem("[gunn-web-app] language");function a(e,t="other"){return langs[n]||(langs[n]={}),langs[n][t]||(langs[n][t]={}),void 0!==langs[n][t][e]?langs[n][t][e]:langs.en[t]?void 0===langs.en[t][e]?e:langs.en[t][e]:e}if("en"!==n){const e=document.createElement("script");e.src=`./js/languages/${n}.js`,document.head.appendChild(e)}function o(e,t,n){var a=new XMLHttpRequest;a.onreadystatechange=(()=>{4===a.readyState&&(200===a.status?t(a.responseText):n&&n(a.status))}),a.open("GET",e,!0),a.send(null)}function s(e,t){for(var n=document.querySelectorAll(e),a=0,o=n.length;a<o;a++)t(n[a],a)}function r(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function initMap(){var e=new google.maps.Map(document.getElementById("mapgoogle"),{zoom:18,center:{lat:37.400922,lng:-122.133584}});e.setMapTypeId("satellite");var t={north:37.402294,south:37.398824,east:-122.130923,west:-122.136685};historicalOverlay=new google.maps.GroundOverlay("http://i.imgur.com/cnsWqDz.png",t),historicalOverlay.setMap(e)}const i="https://www.googleapis.com/calendar/v3/calendars/"+encodeURIComponent("u5mgb2vlddfj70d7frf3r015h0@group.calendar.google.com")+"/events?singleEvents=true&fields="+encodeURIComponent("items(description,end(date,dateTime),start(date,dateTime),summary)")+"&key=AIzaSyDBYs4DdIaTjYx5WDz6nfdEAftXuctZV0o",l="2019-08-13T00:00:00.000-07:00",d="2020-06-04T23:59:59.999-07:00",c=["self","schedule","extended","holiday","no students","break","development"];function u(){return m().then(e=>{const t=new Date;e.lastGenerated=[t.getFullYear(),t.getMonth(),t.getDate()],cookie.setItem("[gunn-web-app] alts.2019-20",JSON.stringify(e))})}function m(){return Promise.all(c.map(e=>fetch(i+`&timeMin=${encodeURIComponent(l)}&timeMax=${encodeURIComponent(d)}&q=${e}`).then(e=>e.json()))).then(e=>{let t={};e.slice(1).forEach(e=>Object.assign(t,Q(e.items)));const n=e[0].items.filter(e=>e.summary.includes("SELF")).map(e=>(e.start.dateTime||e.start.date).slice(5,10));return t.self=n,t})}const p=cookie.getItem("[gunn-web-app] alts.2019-20")?Promise.resolve():u();cookie.getItem("[gunn-web-app] lite.alts")&&cookie.removeItem("[gunn-web-app] lite.alts");let h={},g=null;if(cookie.getItem("[gunn-web-app] club-list.spring18-19"))try{h=JSON.parse(cookie.getItem("[gunn-web-app] club-list.spring18-19"))}catch(e){}function f(){cookie.setItem("[gunn-web-app] club-list.spring18-19",JSON.stringify(h)),g&&g()}window.addEventListener("load",t=>{if(document.title=a("appname"),window!==window.parent)return document.body.classList.add("anti-ugwaga"),document.body.innerHTML+=`<div id="anti-ugwaga"><span>${a("anti-ugwaga")}</span></div>`,void document.addEventListener("click",e=>{window.parent.location.replace(".")});p.then(D),w("#footer > ul > li, button.material");let r=!1;document.addEventListener("keydown",e=>{9!==e.keyCode&&13!==e.keyCode||(document.body.classList.add("tab-focus"),r=!0)}),document.addEventListener("keyup",e=>{9!==e.keyCode&&13!==e.keyCode||(r=!1)}),document.addEventListener("focusin",e=>{r||document.body.classList.remove("tab-focus")}),s("input[name=theme]",e=>e.addEventListener("click",t=>{document.body.classList.remove(cookie.getItem("global.theme")||"light"),document.body.classList.add(t.target.value),e.checked=!0,cookie.setItem("global.theme",t.target.value)},!1));var i=document.querySelector("#seconds");function l(){var e=new Date;i.innerHTML=("0"+e.getSeconds()).slice(-2),i.style.setProperty("--rotation",`rotate(${6*e.getSeconds()}deg)`),0===e.getSeconds()&&(i.classList.add("notransition"),setTimeout(()=>{i.classList.remove("notransition")},300)),setTimeout(l,1010-e.getMilliseconds())}l();var d=document.querySelector("#psadialog .content");o(("file:"===window.location.protocol?"https://orbiit.github.io/gunn-web-app/":"")+"psa.html",e=>{document.querySelector("#psa").innerHTML=e,cookie.getItem("[gunn-web-app] scheduleapp.psa")!==e&&(cookie.getItem("[gunn-web-app] scheduleapp.psa")?(d.innerHTML=e,d.parentNode.classList.add("show"),document.querySelector("#psadialog > .buttons > .close").addEventListener("click",()=>{cookie.setItem("[gunn-web-app] scheduleapp.psa",e)},{once:!0})):cookie.setItem("[gunn-web-app] scheduleapp.psa",e))},e=>{document.querySelector("#psa").innerHTML=`<p class="get-error">${e}${a("psa-error")}</p>`+cookie.getItem("[gunn-web-app] scheduleapp.psa")});var c={current:document.getElementById("current-grade"),worth:document.getElementById("finals-worth"),minimum:document.getElementById("minimum-grade"),output:document.getElementById("grade-output")};function u(){var e=(+c.current.value||0)/100,t=(+c.worth.value||0)/100,n=(+c.minimum.value||0)/100,o=Math.round((n-e*(1-t))/t*1e4)/100;o<=0?c.output.innerHTML=`${a("no-study-before-emph")}<strong>${a("no-study-emph")}</strong>${a("no-study-after-emph")}`:0===t||isNaN(o)?c.output.innerHTML=a("zero-error"):(c.output.innerHTML=`${a("minscore-before-emph")}<strong>${o}%</strong>${a("minscore-after-emph")}`,o>100&&(c.output.innerHTML+=a("minscore-too-high-addendum")))}u();var m=/[^0-9.]|\.(?=[^.]*\.)/g;[c.current,c.worth,c.minimum].forEach(e=>{e.addEventListener("keypress",e=>{let t=String.fromCharCode(e.charCode);if(!"0123456789.".includes(t))return e.preventDefault(),!1},!1),e.addEventListener("input",t=>{m.test(e.value)&&(e.value=+e.value.replace(m,"")||0),u()},!1),e.addEventListener("change",t=>{e.value=+e.value.replace(m,"")||0,u()})}),re(document.querySelector("#mapimage"));var h=document.querySelector("#maptoggle"),g=document.createElement("button"),f=document.querySelector("#mapimage"),y=document.querySelector("#mapgoogle"),v=!1,b=!1,k=document.createTextNode("");f.style.display="block",y.style.display="none",k.nodeValue=a("gmaps"),g.classList.add("material"),w(g),g.addEventListener("click",e=>{if(v=!v){if(f.style.display="none",y.style.display="block",k.nodeValue=a("image"),!b){b=!0;var t=document.createElement("script");t.onerror=(()=>{v&&g.click(),h.innerHTML=a("gmaps-error")}),t.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBl_NvT8EI28SqW-3qKVNEfMOJ9NftkDmk&callback=initMap",document.body.appendChild(t)}}else f.style.display="block",y.style.display="none",k.nodeValue=a("gmaps")},!1),g.appendChild(k),h.appendChild(g),document.getElementById("reload").addEventListener("click",e=>{window.location.reload()}),document.getElementById("trick-cache").addEventListener("click",e=>{window.location="?"+Date.now()});const L=document.getElementById("export-copy"),x=document.getElementById("export-file"),$=document.getElementById("transfer-copypaste"),C=document.getElementById("import-file"),S=document.getElementById("import"),I="[gunn-web-app] ",M="global.theme";function O(){const e={};for(let t=cookie.length;t--;){const n=cookie.key(t);n.slice(0,I.length)===I?e[n.slice(I.length)]=cookie.getItem(n):n===M&&(e[n]=cookie.getItem(n))}return JSON.stringify(e)}function F(e){if(confirm(a("import-warning")))try{const t=JSON.parse(e);Object.keys(t).forEach(e=>{cookie.setItem(e===M?e:I+e,t[e])});const n=JSON.parse(cookie.getItem("[gunn-web-app] scheduleapp.options"));Promise.all(n.map((e,t)=>{if(t>0&&"#"!==e[1][0])return T(e[1],E[t])})).then(()=>{window.location.reload()}).catch(e=>{alert(a("import-problem")+"\n\n"+e.stack)})}catch(e){alert(a("import-problem")+"\n\n"+e.stack)}}$.placeholder=a("import","placeholders"),L.addEventListener("click",e=>{$.value=O(),$.select(),document.execCommand("copy")}),x.addEventListener("click",e=>{const t=document.createElement("a");t.href="data:application/json;charset=utf-8,"+encodeURIComponent(O()),t.download=a("export-file-name"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}),S.addEventListener("click",e=>{if(C.files[0]){const e=new FileReader;e.onload=(e=>{F(e.target.result)}),e.readAsText(C.files[0])}else $.value&&F($.value)});const A=50,B=/[^bcdfghjklmnpqrstvwxyz .,!?0-9\-;'/~#%&()":]|\s+$|^\s+|\s+(?=\s)/gi,N=/\s+$|^\s+|\s+(?=\s)/g,q=document.getElementById("chat"),H=document.getElementById("msg-content"),j=document.getElementById("send"),P=document.getElementById("preview"),Y=5e3;let G,U,J;H.placeholder=a("send-msg","placeholders"),document.getElementById("open-chat").addEventListener("click",e=>{document.body.classList.add("chat-enabled"),q.value="Loading...\n",fetch("./chats.txt?v="+Date.now()).then(e=>e.text()).then(e=>{if(e=e.split(/\r?\n/),!(J=e.find(e=>"h"===e[0])))return Promise.reject("No current chat open.");let t;U=new Promise(e=>t=e),j.addEventListener("click",e=>{t(H.value.replace(B,"").slice(0,A).replace(N,"")),U=new Promise(e=>t=e),H.value="",P.textContent=""}),H.addEventListener("keydown",e=>{13===e.keyCode&&j.click()}),H.addEventListener("input",e=>{if(P.textContent="",!H.value)return;let t,n=0;for(;t=B.exec(H.value);){P.appendChild(document.createTextNode(H.value.slice(n,t.index)));const e=document.createElement("span");e.classList.add("strikethrough"),n=t.index+t[0].length,e.appendChild(document.createTextNode(H.value.slice(t.index,n))),P.appendChild(e)}P.appendChild(document.createTextNode(H.value.slice(n)));const a=document.createElement("span");a.classList.add("chat-input-length"),a.textContent=` (${H.value.replace(B,"").length} / ${A})`,P.appendChild(a)})}).then(async()=>{for(G=cookie.getItem("[gunn-web-app] chat.username");!G;)q.value+="Enter your name:\n",G=await U,q.value+=G+"\n";cookie.setItem("[gunn-web-app] chat.username",G)}).then(async()=>{let e=null,t=null;function n(){e&&(clearTimeout(e),e=null),"utilities"===cookie.getItem("[gunn-web-app] section")?fetch(J).then(e=>e.json()).then(({result:t})=>{const a=q.scrollHeight-q.scrollTop===q.clientHeight;q.value=Object.values(t||{}).map(e=>{const[t,n]=e.split("|").map(e=>e.replace(B,"").slice(0,A).replace(N,""));return`[${t||"s-lf pr-gr-m"}] ${n||"y--t"}`}).join("\n"),a&&(q.scrollTop=q.scrollHeight),e&&clearTimeout(e),e=setTimeout(n,Y)}):e=setTimeout(n,Y)}n();let a,o=0;for(;;){let e=await U;e&&e!==a&&(fetch(J+"/"+Date.now().toString(36)+"-"+Math.random().toString(36).slice(2),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(`${(new Date).toISOString().slice(5,16).replace("T"," ")} - ${G}|${e}`)}).then(n),a=e,++o>=5&&(j.disabled=!0),t||(t=setTimeout(()=>{t=null,o=0,j.disabled=!1},1e4)))}}).catch(e=>{q.value+="Could not load chat.\n"+e,H.disabled=!0,j.disabled=!0})});const R=navigator.userAgent;if(/iPad|iPhone|iPod/.test(R)&&!navigator.standalone&&!cookie.getItem("[gunn-web-app] no-thx-ios")){const e=document.getElementById("ios-add-to-home-screen");e.classList.add("show"),R.includes("Version/")||e.classList.add("not-ios-safari"),R.includes("iPad")&&e.classList.add("ipad"),document.getElementById("ios-no-thanks").addEventListener("click",t=>{e.classList.add("ok"),cookie.setItem("[gunn-web-app] no-thx-ios",!0)})}function z(e){return a(e,"html")}const W=/\{\{([a-z0-9\-]+)\}\}/,X=[],_=document.createTreeWalker(document.body,NodeFilter.SHOW_TEXT);for(;_.nextNode();){const e=W.exec(_.currentNode.nodeValue);e&&(X.push(e[1],_.currentNode),_.currentNode.nodeValue=z(e[1]))}const V=document.createDocumentFragment();Object.keys(e).forEach(t=>{const a=document.createElement("p");a.classList.add("radio-wrapper");const o=document.createElement("input");o.type="radio",o.name="language",o.value=t,o.className="material-radio",t===n?o.checked=!0:o.addEventListener("click",e=>{cookie.setItem("[gunn-web-app] language",t),window.location.reload()}),a.appendChild(o);const s=document.createElement("label");s.textContent=e[t],a.appendChild(s),V.appendChild(a)}),document.getElementById("langs").appendChild(V);try{navigator.serviceWorker.register("./sw.js").then(e=>{e.onupdatefound=(()=>{const t=e.installing;t.onstatechange=(()=>{"installed"===t.state&&navigator.serviceWorker.controller&&window.location.replace("/ugwa-updater.html"+window.location.search)})})},e=>{})}catch(t){}},!1);class y{constructor(e,t,n){this.start=e,this.min=new Date(this.start.y,this.start.m,this.start.d).getTime(),this.end=t,this.max=new Date(this.end.y,this.end.m,this.end.d).getTime(),this.selectedelem=null,this.selected=null;var o=a("ds").split("  "),s=a("mos").split("  ");for(var r of(this.wrapper=n||document.createElement("div"),/(absolute|fixed)/.test(window.getComputedStyle(this.wrapper).position)||(this.wrapper.style.position="relative"),this.wrapper.classList.add("datepicker-wrapper"),this.header=document.createElement("div"),y.css(this.header)`position:absolute``display:flex``width:100%``top:0``left:0``z-index:1`,this.header.classList.add("datepicker-dayheadings"),o)){var i=document.createElement("span");y.css(i)`flex: 1 0 0``text-align:center`,i.classList.add("datepicker-dayheading"),i.innerHTML=r,this.header.appendChild(i)}this.wrapper.appendChild(this.header),this.dates=document.createElement("div"),y.css(this.dates)`position:relative``height: 100%``box-sizing: border-box``overflow: auto`,this.dates.classList.add("datepicker-days");var l=new Date(e.y,e.m,e.d),d=0,c=new Date(t.y,t.m,t.d).getTime(),u=l.getDay(),m=new Date(e.y,e.m,e.d-u),p=!1,h=m.getMonth();for(l=l.getTime();m.getTime()<c;){var g=document.createElement("div");y.css(g)`display:flex``position:relative`,g.classList.add("datepicker-week");for(var f=0;f<o.length;f++){var v=document.createElement("span");if(m=new Date(e.y,e.m,e.d-u+7*d+f),y.css(v)`flex: 1 0 0``text-align:center`,v.classList.add("datepicker-day"),m.getTime()>=l&&m.getTime()<=c?(v.dataset.month=m.getMonth(),v.dataset.year=m.getFullYear(),1===(v.dataset.date=v.innerHTML=m.getDate())&&(p=!p),p&&v.classList.add("datepicker-monthalt")):v.dataset.notinrange="true",g.appendChild(v),0===f&&h!==m.getMonth()){h=m.getMonth();var i=document.createElement("span");y.css(i)`position:absolute``z-index: -1`,i.classList.add("datepicker-month"),i.innerHTML=s[h]+m.getFullYear().toString().slice(-2),g.appendChild(i)}}this.dates.appendChild(g),d++}this.dates.addEventListener("click",e=>{e.target.classList.contains("datepicker-day")&&"true"!==e.target.dataset.notinrange&&(this.day={d:+e.target.dataset.date,m:+e.target.dataset.month,y:+e.target.dataset.year})},!1),this.wrapper.appendChild(this.dates);var r=new Date,i;(i=this.dates.querySelector(`.datepicker-day[data-date="${r.getDate()}"][data-month="${r.getMonth()}"][data-year="${r.getFullYear()}"]`))&&i.classList.add("datepicker-today")}get day(){return this.selected}set day(e){this.selectedelem&&this.selectedelem.classList.remove("datepicker-selected"),e&&this.inrange(e)?(e=y.purify(e),this.selectedelem=this.dates.querySelector(`.datepicker-day[data-date="${e.d}"][data-month="${e.m}"][data-year="${e.y}"]`),this.selectedelem.classList.add("datepicker-selected")):this.selectedelem=null,this.selected=e,this.onchange&&this.onchange(e)}inrange(e){var t=new Date(e.y,e.m,e.d).getTime();return!(t<this.min||t>this.max)}compare(e,t){return new Date(e.y,e.m,e.d).getTime()-new Date(t.y,t.m,t.d).getTime()}static purify(e){var t=new Date(e.y,e.m,e.d);return{d:t.getDate(),m:t.getMonth(),y:t.getFullYear()}}static css(e){function t([n]){return e.style.setProperty(n.slice(0,n.indexOf(":")),n.slice(n.indexOf(":")+1)),t}return t}}class v{constructor(e=(()=>{})){var t=this,n=e=>document.createElement(e),a="appendChild",o="classList";t.a=e,t.window=n("div"),t.b=n("input"),t.c=n("div"),t.d=n("div"),t.g=n("div"),t.f=n("div"),v.d(t.window)`position:fixed``opacity:0``pointer-events:none`,t.window[o].add("colourpicker-window"),t.b.type="text",t.b[o].add("colourpicker-input"),t.b.addEventListener("change",e=>{t.colour=t.b.value},!1),v.d(t.c)`position:relative``background-image: linear-gradient(0deg,black,transparent), linear-gradient(90deg,white,transparent)`,t.c[o].add("colourpicker-svslider"),v.e(t.c,(e,n)=>{var a=t.c.getBoundingClientRect();e-=a.left,n-=a.top,e>a.width?e=a.width:e<0&&(e=0),n>a.height?n=a.height:n<0&&(n=0),t.d.style.left=e+"px",t.d.style.top=n+"px",t.h[1]=e/a.width*100,t.h[2]=100-n/a.height*100,t.g.style.backgroundImage=t.k(),t.b.value=t.l(),t.a(t.b.value)}),v.d(t.d)`position:absolute``pointer-events:none``z-index:1`,t.d[o].add("colourpicker-svindicator"),v.d(t.g)`position:relative`,t.g[o].add("colourpicker-hueslider"),v.e(t.g,(e,n)=>{var a=t.g.getBoundingClientRect();(n-=a.top)>a.height?n=a.height:n<0&&(n=0),t.f.style.top=n+"px",t.h[0]=n/a.height*360,t.c.style.backgroundColor=`hsl(${t.h[0]},100%,50%)`,t.b.value=t.l(),t.a(t.b.value)}),t.g.addEventListener("wheel",e=>{t.h[0]=(Math.round(e.deltaY/25)+t.h[0]+360*Math.ceil(Math.abs(e.deltaY)/360))%360,t.c.style.backgroundColor=`hsl(${t.h[0]},100%,50%)`,t.f.style.top=t.h[0]/3.6+"%",t.b.value=t.l(),t.a(t.b.value)},!1),v.d(t.f)`position:absolute``pointer-events:none``z-index:1`,t.f[o].add("colourpicker-hueindicator"),t.g[a](t.f),t.c[a](t.d),t.window[a](t.b),t.window[a](t.c),t.window[a](t.g),document.body[a](t.window)}trigger(e){var t=this;if(v.d(t.window)`opacity:1``pointer-events:all`,e){var n=e.getBoundingClientRect(),a=t.window.getBoundingClientRect();t.window.style.top=(n.bottom+a.height>window.innerHeight?n.top-a.height<0?0:n.top-a.height:n.bottom)+"px",t.window.style.left=(n.left+a.width>window.innerWidth?n.right-a.width<0?0:n.right-a.width:n.left)+"px"}var o=n=>{t.window.contains(n.target)||n.target===e||(v.d(t.window)`opacity:0``pointer-events:none`,document.removeEventListener("click",o,!1))};document.addEventListener("click",o,!1)}k(){var[e,t]=v.c(this.h[1],this.h[2]);return`linear-gradient(hsl(0,${e}%,${t}%),hsl(60,${e}%,${t}%),hsl(120,${e}%,${t}%),hsl(180,${e}%,${t}%),hsl(240,${e}%,${t}%),hsl(300,${e}%,${t}%),hsl(0,${e}%,${t}%))`}l(){var[e,t,n]=v.a(...this.h);return"#"+("0"+e.toString(16)).slice(-2)+("0"+t.toString(16)).slice(-2)+("0"+n.toString(16)).slice(-2)}set colour(e){var t=this;4===(e=e.toUpperCase().replace(/[^0-9A-F]/g,"").slice(0,6)).length&&(e=e.slice(0,3)),3===e.length&&(e=e.split("").map(e=>e+e).join("")),6===e.length?(t.b.value="#"+e,t.h=v.b(parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)),t.c.style.backgroundColor=`hsl(${t.h[0]},100%,50%)`,t.f.style.top=t.h[0]/3.6+"%",t.d.style.left=t.h[1]+"%",t.d.style.top=100-t.h[2]+"%",t.g.style.backgroundImage=t.k(),t.a(t.b.value)):t.b.value=t.l()}get colour(){return this.b.value}darkness(){var[e,t,n]=v.a(...this.h);return Math.round((299*parseInt(e)+587*parseInt(t)+114*parseInt(n))/1e3)}static e(e,t){var n=["addEventListener","removeEventListener","preventDefault","changedTouches","mousemove","mouseup","touchmove","touchend"];e[n[0]]("mousedown",e=>{var a=e=>{t(e.clientX,e.clientY),e[n[2]]()},o=e=>{t(e.clientX,e.clientY),document[n[1]](n[4],a,!1),document[n[1]](n[5],o,!1),e[n[2]]()};document[n[0]](n[4],a,!1),document[n[0]](n[5],o,!1),e[n[2]]()},!1),e[n[0]]("touchstart",e=>{var a=e=>{t(e.touches[0].clientX,e.touches[0].clientY),e[n[2]]()},o=e=>{t(e[n[3]][0].clientX,e[n[3]][0].clientY),document[n[1]](n[6],a,{passive:!1}),document[n[1]](n[7],o,{passive:!1}),e[n[2]]()};document[n[0]](n[6],a,{passive:!1}),document[n[0]](n[7],o,{passive:!1}),e[n[2]]()},{passive:!1})}static d(e){function t([n]){return e.style.setProperty(n.slice(0,n.indexOf(":")),n.slice(n.indexOf(":")+1)),t}return t}static c(e,t){var n=(2-(e/=100))*(t/=100);return n=[Math.round(e*t/(n<=1?n:2-n)*100),Math.round(50*n)],isNaN(n[0])&&(n[0]=0),n}static b(e,t,n){var a=Math.max(e,t,n),o=Math.min(e,t,n),s=a-o,r,i=0===a?0:s/a,l=a/255;switch(a){case o:r=0;break;case e:r=t-n+s*(t<n?6:0),r/=6*s;break;case t:r=n-e+2*s,r/=6*s;break;case n:r=e-t+4*s,r/=6*s}return[Math.round(360*r),Math.round(100*i),Math.round(100*l)]}static a(e,t,n){var a,o,s,r,i,l,d,c;switch(l=(n/=100)*(1-(t/=100)),d=n*(1-(i=6*(e/=360)-(r=Math.floor(6*e)))*t),c=n*(1-(1-i)*t),r%6){case 0:a=n,o=c,s=l;break;case 1:a=d,o=n,s=l;break;case 2:a=l,o=n,s=c;break;case 3:a=l,o=d,s=n;break;case 4:a=c,o=l,s=n;break;case 5:a=n,o=l,s=d}return[Math.round(255*a),Math.round(255*o),Math.round(255*s)]}}function b(e,t){var n;t&&"CANVAS"===t.tagName?n=t:(n=document.createElement("canvas"),t=void 0);var a=n.getContext("2d");try{var o="imageRendering",s="style";n[s][o]="optimizeSpeed",n[s][o]="-moz-crisp-edges",n[s][o]="-webkit-optimize-contrast",n[s][o]="-o-crisp-edges",n[s][o]="pixelated",n[s].msInterpolationMode="nearest-neighbor"}catch(s){}e="*"+e.toUpperCase().replace(/[^A-Z0-9\-\. \+/\$%]/g,"")+"*";var r="length",i="height",l="width",d="fillRect",c="fillStyle";n[i]=100,n[l]=16*e[r]-1,t&&a.clearRect(0,0,n[l],n[i]),a[c]="white",a[d](0,0,n[l],n[i]),a[c]="black";for(var u=0,m=0;u<e[r];u++)for(var p=b.v[e[u]].toString(3),h=0;h<p[r];h++)switch(p[h]){case"2":a[d](m,0,3,n[i]),m+=4;break;case"1":a[d](m,0,1,n[i]),m+=2;break;case"0":m+=2}return n}function w(e){if("string"!=typeof e){var t=0;e.addEventListener("mousedown",e=>{(new Date).getTime()-t>100&&s(e.clientX,e.clientY)},!1),e.addEventListener("touchstart",e=>{s(e.touches[0].clientX,e.touches[0].clientY)},!1);var n=document.createElement("div");n.classList.add("ripple"),n.classList.add("ripple-focus")}else for(var a=document.querySelectorAll(e),o=0;o<a.length;o++)w(a[o]);function s(n,a){var o=document.createElement("div"),s=e.getBoundingClientRect();o.classList.add("ripple"),e.classList.contains("ripple-light")&&o.classList.add("ripple-light"),e.classList.contains("ripple-dark")&&o.classList.add("ripple-dark"),o.style.left=n-s.left+"px",o.style.top=a-s.top+"px",e.appendChild(o);var r=(new Date).getTime(),i=Math.max(s.width,s.height)/10,l=31*i,d=!1,c;function u(){var t=((new Date).getTime()-r)/l,n=((new Date).getTime()-c)/500;d&&n>1?(e.removeChild(o),o=null):(o.style.transform=`scale(${t*i})`,o.style.opacity=n?1-n:1,window.requestAnimationFrame(u))}function m(e){d=!0,c=(new Date).getTime(),document.removeEventListener("mouseup",m,!1),document.removeEventListener("touchend",m,!1),"touchend"===e.type&&(t=c)}window.requestAnimationFrame(u),document.addEventListener("mouseup",m,!1),document.addEventListener("touchend",m,!1)}}function k(e,t){const n=document.createElement("span");n.classList.add("mdrop-selected"),n.tabIndex=0,w(n),e.appendChild(n);const a=document.createElement("div");a.classList.add("mdrop-values");const o={};function s(){a.classList.remove("show"),document.removeEventListener("click",s)}let r,i;return t.forEach(([e,t])=>{const n=document.createElement("div");if(n.classList.add("mdrop-value"),n.dataset.value=e,n.tabIndex=0,w(n),"string"==typeof t){const e=document.createElement("span");e.textContent=t,t=e}n.appendChild(t),o[e]=t,a.appendChild(n)}),e.appendChild(a),n.innerHTML=o[t[0][0]].outerHTML,n.addEventListener("click",e=>{a.classList.add("show"),document.addEventListener("click",s),e.stopPropagation()}),a.addEventListener("click",e=>{const t=e.target.closest(".mdrop-value");t&&(r=t.dataset.value,n.innerHTML=o[r].outerHTML,i&&i(r))}),{set(e){return r=e,n.innerHTML=o[r].outerHTML,this},get:()=>r,onChange(e){return i=e,this}}}b.v={0:349,1:581,2:419,3:661,4:347,5:589,6:427,7:341,8:583,9:421,A:599,K:605,U:527,B:437,L:443,V:311,C:679,M:685,W:553,D:383,N:389,X:293,E:625,O:631,Y:535,F:463,P:469,Z:319,G:359,Q:371,"-":287,H:601,R:613,".":529,I:439,S:451," ":313,J:385,T:397,"*":295,"+":2521,"/":2467,$:2461,"%":3007},window.addEventListener("load",e=>{s(".material-switch",e=>{e.addEventListener("click",t=>{e.classList.toggle("checked")},!1)}),s(".radio-wrapper",e=>{var t=e.querySelector("input[type=radio]");e.addEventListener("click",e=>{t.click(),t.focus()},!1)}),s(".material-dialog > .buttons > button.close",e=>{e.addEventListener("click",t=>{e.parentNode.parentNode.classList.remove("show")},!1)})},!1),window.addEventListener("load",e=>{var t=document.querySelector(`#footer > ul > li[data-section="${cookie.getItem("[gunn-web-app] section")||"schedule"}"]`);t?t.classList.add("active"):(document.querySelector('#footer > ul > li[data-section="schedule"]').classList.add("active"),cookie.setItem("[gunn-web-app] section","schedule"),document.body.classList.add("footer-schedule"));var n=document.querySelector("#footer > ul");function a(e){var t=n.querySelector(".active");t&&(t.classList.remove("active"),document.body.classList.remove("footer-"+t.dataset.section)),document.querySelector(`#footer > ul > li[data-section="${e}"]`).classList.add("active"),document.body.classList.add("footer-"+e),cookie.setItem("[gunn-web-app] section",e)}if(window.location.search){const e=/(?:\?|&)section=([^&]+)/.exec(window.location.search);e&&a(e[1])}function o(e){if(e.target!==n&&n.contains(e.target)){for(var t=e.target;"LI"!==t.tagName;)t=e.target.parentNode;a(t.dataset.section)}}n.addEventListener("click",o,!1),n.addEventListener("keydown",e=>{13===e.keyCode&&o(e)},!1)},!1);var L,E=[0,"A","B","C","D","E","F","G","Flex","Brunch","Lunch","SELF"],x=2,$="3",C=[null,[{name:"A",start:{hour:8,minute:25,totalminutes:505},end:{hour:9,minute:45,totalminutes:585}},{name:"Brunch",start:{hour:9,minute:45,totalminutes:585},end:{hour:9,minute:50,totalminutes:590}},{name:"B",start:{hour:10,minute:0,totalminutes:600},end:{hour:11,minute:15,totalminutes:675}},{name:"C",start:{hour:11,minute:25,totalminutes:685},end:{hour:12,minute:40,totalminutes:760}},{name:"Lunch",start:{hour:12,minute:40,totalminutes:760},end:{hour:13,minute:10,totalminutes:790}},{name:"F",start:{hour:13,minute:20,totalminutes:800},end:{hour:14,minute:35,totalminutes:875}}],[{name:"D",start:{hour:8,minute:25,totalminutes:505},end:{hour:9,minute:45,totalminutes:585}},{name:"Brunch",start:{hour:9,minute:45,totalminutes:585},end:{hour:9,minute:50,totalminutes:590}},{name:"Flex",start:{hour:10,minute:0,totalminutes:600},end:{hour:10,minute:50,totalminutes:650}},{name:"E",start:{hour:11,minute:0,totalminutes:660},end:{hour:12,minute:15,totalminutes:735}},{name:"Lunch",start:{hour:12,minute:15,totalminutes:735},end:{hour:12,minute:45,totalminutes:765}},{name:"A",start:{hour:12,minute:55,totalminutes:775},end:{hour:14,minute:15,totalminutes:855}},{name:"G",start:{hour:14,minute:25,totalminutes:865},end:{hour:15,minute:40,totalminutes:940}}],[{name:"B",start:{hour:8,minute:25,totalminutes:505},end:{hour:9,minute:50,totalminutes:590}},{name:"Brunch",start:{hour:9,minute:50,totalminutes:590},end:{hour:9,minute:55,totalminutes:595}},{name:"C",start:{hour:10,minute:5,totalminutes:605},end:{hour:11,minute:25,totalminutes:685}},{name:"D",start:{hour:11,minute:35,totalminutes:695},end:{hour:12,minute:55,totalminutes:775}},{name:"Lunch",start:{hour:12,minute:55,totalminutes:775},end:{hour:13,minute:25,totalminutes:805}},{name:"F",start:{hour:13,minute:35,totalminutes:815},end:{hour:14,minute:55,totalminutes:895}}],[{name:"E",start:{hour:8,minute:25,totalminutes:505},end:{hour:9,minute:50,totalminutes:590}},{name:"Brunch",start:{hour:9,minute:50,totalminutes:590},end:{hour:9,minute:55,totalminutes:595}},{name:"Flex",start:{hour:10,minute:5,totalminutes:605},end:{hour:10,minute:55,totalminutes:655}},{name:"B",start:{hour:11,minute:5,totalminutes:665},end:{hour:12,minute:15,totalminutes:735}},{name:"Lunch",start:{hour:12,minute:15,totalminutes:735},end:{hour:12,minute:45,totalminutes:765}},{name:"A",start:{hour:12,minute:55,totalminutes:775},end:{hour:14,minute:5,totalminutes:845}},{name:"G",start:{hour:14,minute:15,totalminutes:855},end:{hour:15,minute:35,totalminutes:935}}],[{name:"C",start:{hour:8,minute:25,totalminutes:505},end:{hour:9,minute:40,totalminutes:580}},{name:"Brunch",start:{hour:9,minute:40,totalminutes:580},end:{hour:9,minute:45,totalminutes:585}},{name:"D",start:{hour:9,minute:55,totalminutes:595},end:{hour:11,minute:5,totalminutes:665}},{name:"E",start:{hour:11,minute:15,totalminutes:675},end:{hour:12,minute:25,totalminutes:745}},{name:"Lunch",start:{hour:12,minute:25,totalminutes:745},end:{hour:12,minute:55,totalminutes:775}},{name:"F",start:{hour:13,minute:5,totalminutes:785},end:{hour:14,minute:15,totalminutes:855}},{name:"G",start:{hour:14,minute:25,totalminutes:865},end:{hour:15,minute:35,totalminutes:935}}],null];const S=[{d:13,m:7,y:2019},{d:4,m:5,y:2020}],I="ugwa-img-cache-YEET";function T(e,t){return Promise.all([caches.open(I),fetch(e,{mode:"no-cors",cache:"no-cache"})]).then(([e,n])=>e.put(`./.period-images/${t}`,n))}function D(){var e=a("periodx"),t={NO_SCHOOL:{label:a("no-school")},Brunch:{label:a("brunch"),colour:"#90a4ae"},Lunch:{label:a("lunch"),colour:"#90a4ae"},Flex:{label:a("flex"),colour:"#455a64"},SELF:{label:a("self"),colour:"#455a64"},A:{label:e.replace("{X}","A"),colour:"#f44336"},B:{label:e.replace("{X}","B"),colour:"#2196F3"},C:{label:e.replace("{X}","C"),colour:"#FFEB3B"},D:{label:e.replace("{X}","D"),colour:"#795548"},E:{label:e.replace("{X}","E"),colour:"#FF9800"},F:{label:e.replace("{X}","F"),colour:"#9C27B0"},G:{label:e.replace("{X}","G"),colour:"#4CAF50"}};if(cookie.getItem("[gunn-web-app] scheduleapp.options")&&(L=JSON.parse(cookie.getItem("[gunn-web-app] scheduleapp.options")))[0]!==x)switch(L[0]){case 1:L[0]=2,L.push([t.SELF.label,t.SELF.colour]);break;default:L=null}if(!L){L=[x];for(var n=0,i=E,l=i.length,d=i[n];n<l;d=i[++n])0!==d&&L.push([t[d].label,t[d].colour])}var c=cookie.getItem("[gunn-web-app] scheduleapp.formatOptions")?cookie.getItem("[gunn-web-app] scheduleapp.formatOptions").split("."):[$,"12","full","0","after","chrono-primero"];function u(e){let n,a=t[e].colour;return`<span style="${n="#"===a[0]?`background-color:${a};color:${oe(a)};`:`background-image: url('./.period-images/${e}?${encodeURIComponent(a)}'); color: white; text-shadow: 0 0 10px black;`}" class="schedule-endinginperiod">${r(t[e].label)}</span>`}"1"===c[0]&&(c[0]="2",c[3]="0",cookie.setItem("[gunn-web-app] scheduleapp.formatOptions",c.join("."))),"2"===c[0]&&(c[0]="3",c[4]="after",c[5]="chrono-primero",cookie.setItem("[gunn-web-app] scheduleapp.formatOptions",c.join("."))),c[0]!==$&&(cookie.setItem("[gunn-web-app] scheduleapp.formatOptions",$+".12.full.0.after.chrono-primero"),window.location.reload()),s("input[name=hour]",e=>e.addEventListener("click",e=>{c[1]="h12"===e.target.value?"12":"h0"===e.target.value?"0":"24",cookie.setItem("[gunn-web-app] scheduleapp.formatOptions",c.join(".")),window.location.reload()},!1)),s("input[name=format]",e=>e.addEventListener("click",e=>{c[2]="full"===e.target.value?"full":"compact",cookie.setItem("[gunn-web-app] scheduleapp.formatOptions",c.join(".")),window.location.reload()},!1)),s("input[name=self]",e=>e.addEventListener("click",e=>{c[3]="hide"===e.target.value?"0":"1",cookie.setItem("[gunn-web-app] scheduleapp.formatOptions",c.join(".")),window.location.reload()},!1)),s("input[name=asgn-display]",e=>e.addEventListener("click",e=>{c[4]=e.target.value,cookie.setItem("[gunn-web-app] scheduleapp.formatOptions",c.join(".")),U.displaySection(e.target.value)},!1)),s("input[name=asgn-sort]",e=>e.addEventListener("click",e=>{c[5]=e.target.value,cookie.setItem("[gunn-web-app] scheduleapp.formatOptions",c.join(".")),U.todayIs(u,new Date,e.target.value)},!1));const m=["homework","preparation","worksheet","reading","quiz","test","exam","presentation","materials","other"],p=document.getElementById("asgn-content"),h=document.getElementById("date"),g=[document.getElementById("low-imp"),document.getElementById("medium-imp"),document.getElementById("high-imp")],f=k(document.getElementById("cat-drop"),m.map(e=>{const t=document.createElement("span");return t.classList.add("asgn-category"),t.classList.add("asgn-category-"+e),t.textContent=a("asgn-cat-"+e),[e,t]})),b=k(document.getElementById("period-drop"),[[null,"the day"],...E.slice(1).map(e=>{const n=document.createElement("span");return n.classList.add("schedule-endinginperiod"),(t[e].update=(()=>{n.textContent=t[e].label,"#"===t[e].colour[0]?(n.style.backgroundColor=t[e].colour,n.style.color=oe(t[e].colour),n.style.textShadow=null):(n.style.backgroundImage=`url('./.period-images/${e}?${encodeURIComponent(t[e].colour)}')`,n.style.color="white",n.style.textShadow="0 0 10px black")}))(),[e,n]})]),D=new y(...S);function M(){D.wrapper.classList.add("hide"),document.removeEventListener("click",M)}let O;function F(e){O=e,g.forEach((t,n)=>{n===e?t.classList.add("raised"):t.classList.remove("raised")})}h.addEventListener("click",e=>{D.wrapper.classList.remove("hide"),document.addEventListener("click",M),e.stopPropagation()}),D.onchange=(e=>{h.textContent=ne("date",{M:Z[e.m],D:e.d})}),D.wrapper.classList.add("hide"),D.wrapper.style.position="absolute",p.placeholder=a("assignment","placeholders"),g.forEach((e,t)=>{e.addEventListener("click",e=>{F(t)})});const A=document.getElementById("asgn-editor"),B=document.getElementById("asgn-delete"),N=document.getElementById("asgn-cancel"),q=document.getElementById("asgn-save");let H,j,P;function Y({text:e,category:t,importance:n,dueObj:a,period:o}){let s,r,i;H&&H(),b.set(o),f.set(t),h.textContent=ne("date",{M:Z[a.m],D:a.d}),D.day=a,p.value=e,A.classList.add("show"),p.focus(),F(n),H=(()=>{j=P=H=null,A.classList.remove("show")}),j=(()=>{H(),r&&r(),i&&i(),cookie.setItem("[gunn-web-app] assignments",U.getSaveable())}),P=(()=>{H(),s&&s({text:p.value,category:f.get(),importance:O,dueObj:D.day,period:b.get()}),i&&i(),cookie.setItem("[gunn-web-app] assignments",U.getSaveable())});const l={onSave:e=>(s=e,l),onDelete:e=>(r=e,l),onFinish:e=>(i=e,l)};return l}B.addEventListener("click",e=>{j&&j()}),N.addEventListener("click",e=>{H&&H()}),q.addEventListener("click",e=>{P&&P()}),A.appendChild(D.wrapper);const U=G({editor:Y,save(){cookie.setItem("[gunn-web-app] assignments",U.getSaveable())},rerender(){J.update()},getDefaultDate:()=>ue.day,loadJSON:cookie.getItem("[gunn-web-app] assignments")});var J;U.todayIs(u,new Date,c[5]),U.displaySection(c[4]);var R=document.querySelector("#weekwrapper");function z(){for(var e="",t=a("ds").split("  "),n=J.getWeek(),o=0;o<7;o++){e+=`<div${n[o].today?' class="today"':""}><h1>${t[o]}</h1>`;for(var s=0,i=n[o],l=i.length,d=i[s];s<l;d=i[++s])e+=`<span style="${"#"===d.colour[0]?`background-color:${d.colour};`:`background-image: url(./.period-images/${d.id}?${encodeURIComponent(d.colour)});`}" title="${r(d.label)}"></span>`;e+="</div>"}R.innerHTML=e,K()}var W=/schedule|extended|holiday|no students|break|development/i,X,_=document.querySelector("#events"),V={},Z=a("months").split("  ");function K(){var e=J.offset,t=new Date;function n(e){var t="";if(e.length)for(var n=0;n<e.length;n++){var o="";if(e[n].start){var s=new Date(e[n].start),r=new Date(e[n].end);o="0"===c[1]?`${s.getMinutes()} &ndash; ${r.getMinutes()}`:"24"===c[1]?`${s.getHours()}:${("0"+s.getMinutes()).slice(-2)} &ndash; ${r.getHours()}:${("0"+r.getMinutes()).slice(-2)}`:`${(s.getHours()-1)%12+1}:${("0"+s.getMinutes()).slice(-2)}${s.getHours()<12?"a":"p"}m &ndash; ${(r.getHours()-1)%12+1}:${("0"+r.getMinutes()).slice(-2)}${r.getHours()<12?"a":"p"}m`}e[n].loc&&(o&&(o+=" &mdash; "),o+=e[n].loc),o&&(o=`<span class="secondary">${o}</span>`),t+=`<li><span class="primary">${e[n].name}</span><span class="secondary${e[n].error?" get-error":""}">${e[n].desc||""}</span>${o}</li>`}else t=`<li><span class="secondary center">${a("no-events")}</span></li>`;_.innerHTML=t}if(_.innerHTML=`<li><span class="secondary center">${a("loading")}</span></li>`,V[e])n(V[e]);else{const s=new Date(t.getFullYear(),t.getMonth(),t.getDate()+e).toISOString();o(`https://www.googleapis.com/calendar/v3/calendars/u5mgb2vlddfj70d7frf3r015h0@group.calendar.google.com/events?key=AIzaSyDBYs4DdIaTjYx5WDz6nfdEAftXuctZV0o&timeMin=${s}&timeMax=${new Date(t.getFullYear(),t.getMonth(),t.getDate()+e+1).toISOString()}&showDeleted=false&singleEvents=true&orderBy=startTime&fields=items(description%2Cend(date%2CdateTime)%2Clocation%2Cstart(date%2CdateTime)%2Csummary)`,t=>{t=JSON.parse(t).items;for(var a=[],o=0;o<t.length;o++)a[o]={start:t[o].start.dateTime,end:t[o].end.dateTime,name:t[o].summary,desc:t[o].description,loc:t[o].location};V[e]=a,J.offset===e&&n(V[e]);var r=t.filter(e=>W.test(e.summary)),i=Q(r),l={},d=!1;cookie.getItem("[gunn-web-app] alts.2019-20")&&(l=JSON.parse(cookie.getItem("[gunn-web-app] alts.2019-20")));var c=t.find(e=>e.summary.includes("SELF"));if(c){var u=(c.start.dateTime||c.start.date).slice(5,10);X.includes(u)||(X.push(u),d=!0,l.self=X)}else{const e=X.indexOf(s.slice(5,10));~e&&(X.splice(e,1),d=!0,l.self=X)}Object.keys(i).forEach(e=>{e&&(l[e]=i[e],ie(alternates,e,i[e],r[0].summary))?d=!0:void 0!==l[e]&&(delete l[e],delete alternates[e.split("-").map(Number).join("-")],d=!0)}),d&&(cookie.setItem("[gunn-web-app] alts.2019-20",JSON.stringify(l)),J.offset=J.offset,z())},t=>{V[e]=[{name:"",desc:`${t}${a("events-error")}`,error:!0}],J.offset===e&&n(V[e])})}}function ee(e){if(~(e=e.toLowerCase()).indexOf("period")){let t=/\b[a-g]\b/.exec(e);if(t)return t[0].toUpperCase()}return~e.indexOf("self")?"SELF":~e.indexOf("flex")||~e.indexOf("assembl")||~e.indexOf("attend")||~e.indexOf("tutorial")?"Flex":~e.indexOf("brunch")||~e.indexOf("break")?"Brunch":~e.indexOf("unch")||~e.indexOf("turkey")?"Lunch":e}var te=a("days").split("  ");function ae(e){return{totalminutes:e,hour:Math.floor(e/60),minute:e%60}}const re=10;function ie(e,t,n,o){if(void 0===n)return!0;var[s,r]=t.split("-").map(Number),i;i=s>6?new Date(2019,s-1,r):new Date(2020,s-1,r);const l=[];return null!==n&&n.forEach(e=>{if(!/collaboration|meeting/i.test(e.name)){const t=ee(e.name);"Flex"===t&&e.end-e.start==80?l.push({name:t,start:ae(e.start),end:ae(e.start+35)},{name:t,start:ae(e.end-35),end:ae(e.end)}):l.push({name:t,start:ae(e.start),end:ae(e.end)})}}),alternates[`${s}-${r}`]={dayname:te[i.getDay()],day:i.getDay(),monthname:Z[s],month:s,date:r,description:o||a("default-alt-msg"),periods:l},!0}function le(){for(var e in cookie.getItem("[gunn-web-app] alts.2019-20")?alternates=JSON.parse(cookie.getItem("[gunn-web-app] alts.2019-20")):alternates={},X=alternates.self||[],alternates)e.includes("-")&&ie(alternates,e,alternates[e]);for(var n=0;n<E.length;n++)t[E[n]]||(t[E[n]]={}),t[E[n]].label=L[n][0],t[E[n]].colour=L[n][1];J=se({element:document.querySelector("#schedulewrapper"),periods:t,normal:C,alternates:alternates,selfDays:X,offset:0,update:!0,h24:"24"===c[1],h0Joke:"0"===c[1],compact:"compact"===c[2],self:+c[3],getAssignments:(e,t)=>U.getScheduleAsgns(e,t)}),z(),U.todayIs()}le();const de=document.querySelector("#plihieraux"),ce=document.querySelector("#plimorgaux");var ue=new y(...S),me=new Date;const pe={d:me.getDate(),m:me.getMonth(),y:me.getFullYear()};function he(e){return!J.options.isSummer(e.getFullYear(),e.getMonth(),e.getDate())&&(alternates[e.getMonth()+1+"-"+e.getDate()]?alternates[e.getMonth()+1+"-"+e.getDate()].periods.length:C[e.getDay()])}pe.d--,de.disabled=ue.compare(pe,ue.start)<0,pe.d+=2,ce.disabled=ue.compare(pe,ue.end)>0,pe.d--,ue.onchange=(e=>{if(e.d--,de.disabled=ue.compare(e,ue.start)<0,e.d+=2,ce.disabled=ue.compare(e,ue.end)>0,e.d--,null!==e){var t=new Date(e.y,e.m,e.d).getTime(),n=(new Date).getTime();J.offset=Math.floor((t-n)/864e5)+1,z()}}),J.options.onEndOfDay=(()=>{Promise.resolve().then(()=>{var e={d:me.getDate()+1,m:me.getMonth(),y:me.getFullYear()};ue.inrange(e)&&(ue.day=e)})}),J.options.isSummer=((e,t,n)=>!ue.inrange({y:e,m:t,d:n}));let ge=J.offset;for(;ue.compare({d:me.getDate(),m:me.getMonth(),y:me.getFullYear()},ue.end)<=0&&!he(me);)me.setDate(me.getDate()+1),ge++;J.offset=ge,ue.day={d:me.getDate(),m:me.getMonth(),y:me.getFullYear()},z(),J.update(),ue.wrapper.classList.add("hide"),ue.wrapper.style.position="fixed",document.body.appendChild(ue.wrapper),document.querySelector("#datepicker").addEventListener("click",e=>{if(ue.wrapper.classList.contains("hide")){function t(e){ue.wrapper.contains(e.target)||(ue.wrapper.classList.add("hide"),document.removeEventListener("click",t,!1))}ue.wrapper.classList.remove("hide"),setTimeout(()=>{document.addEventListener("click",t,!1)},0)}},!1),de.addEventListener("click",e=>{var t={d:ue.day.d-1,m:ue.day.m,y:ue.day.y};ue.compare(t,ue.start)>=0&&(ue.day=t)},!1),ce.addEventListener("click",e=>{var t={d:ue.day.d+1,m:ue.day.m,y:ue.day.y};ue.compare(t,ue.end)<=0&&(ue.day=t)},!1);const fe=/(?:\?|&)date=([^&]+)/.exec(window.location.search);if(fe){const[e,t,n]=fe[1].split("-").map(Number),a={y:e||0,m:isNaN(t)?0:t-1,d:isNaN(n)?1:n};ue.inrange(a)&&(ue.day=a)}cookie.getItem("global.theme")?document.querySelector(`input[name=theme][value=${cookie.getItem("global.theme")}]`).checked=!0:document.querySelector("input[name=theme][value=light]").checked=!0,document.querySelector(`input[name=hour][value=h${c[1]}]`).checked=!0,document.querySelector(`input[name=format][value=${c[2]}]`).checked=!0,document.querySelector(`input[name=self][value=${["hide","show"][c[3]]}]`).checked=!0,document.querySelector(`input[name=asgn-display][value=${c[4]}]`).checked=!0,document.querySelector(`input[name=asgn-sort][value=${c[5]}]`).checked=!0;var ye="f44336 E91E63 9C27B0 673AB7 3F51B5 2196F3 03A9F4 00BCD4 009688 4CAF50 8BC34A CDDC39 FFEB3B FFC107 FF9800 FF5722 795548 9E9E9E 607D8B".split(" ");function ve(e){var t=document.createElement("div"),n=document.createElement("label"),o=document.createElement("input"),s=document.createElement("div");return t.classList.add("customiser-inputwrapper"),n.classList.add("customiser-label"),n.innerHTML=e,o.classList.add("customiser-input"),o.setAttribute("aria-label",a("period-name-label")+e),o.addEventListener("change",e=>{o.value?t.classList.add("filled"):t.classList.remove("filled")},!1),o.addEventListener("mouseenter",e=>{t.classList.add("hover")},!1),o.addEventListener("mouseleave",e=>{t.classList.remove("hover")},!1),o.addEventListener("focus",e=>{t.classList.add("focus")},!1),o.addEventListener("blur",e=>{t.classList.remove("focus")},!1),s.classList.add("customiser-line"),t.appendChild(n),t.appendChild(o),t.appendChild(s),{wrapper:t,label:n,input:o,line:s}}function be(e){function n(o,s,r="#FF594C",i=""){let l="#"!==r[0];var d=document.createElement("div"),c=document.createElement("button"),u=new v(e=>{l||(c.style.backgroundColor=e,J&&J.setPeriod(s,"",e),L[E.indexOf(s)][1]=e,t[s].update&&t[s].update(),cookie.setItem("[gunn-web-app] scheduleapp.options",JSON.stringify(L)),u.darkness()>125?(c.classList.add("ripple-dark"),c.classList.remove("ripple-light")):(c.classList.add("ripple-light"),c.classList.remove("ripple-dark")))}),m=ve(o);d.classList.add("customiser-wrapper"),w(c),c.classList.add("material"),c.classList.add("customiser-colour"),l&&(c.style.backgroundImage=`url(./.period-images/${s}?${Date.now()})`,t[s].update&&t[s].update()),c.addEventListener("click",e=>{u.trigger(c)},!1),u.colour=l?"#FF594C":r,d.appendChild(c),i&&(m.input.value=i,m.wrapper.classList.add("filled")),m.input.addEventListener("change",e=>{J&&J.setPeriod(s,m.input.value),L[E.indexOf(s)][0]=m.input.value,t[s].update&&t[s].update(),cookie.setItem("[gunn-web-app] scheduleapp.options",JSON.stringify(L))},!1),d.appendChild(m.wrapper),e.appendChild(d);var p=document.createElement("div");p.classList.add("customiser-colourwrapper");for(var h=0,g=ye,f=g.length,y=g[h];h<f;y=g[++h])(e=>{var t=document.createElement("span");t.classList.add("customiser-materialcolour"),t.addEventListener("click",t=>{u.colour=e},!1),t.style.backgroundColor=e,p.appendChild(t)})("#"+y);var b=document.createElement("span");b.classList.add("customiser-materialcolour"),b.classList.add("customiser-blackwhite"),b.addEventListener("click",e=>{u.colour=document.body.classList.contains("light")?"#000000":"#ffffff"},!1),p.appendChild(b),u.window.appendChild(p);const k=document.createElement("input");return k.classList.add("customiser-image"),k.classList.add("notmaterial-input"),k.placeholder=a("image-url"),l&&(k.value=r),k.addEventListener("change",e=>{k.disabled=!0,k.value?T(k.value,s).then(()=>{k.disabled=!1,l=!0,c.style.backgroundImage=`url(./.period-images/${s}?${Date.now()})`,J&&J.setPeriod(s,"",k.value),L[E.indexOf(s)][1]=k.value,t[s].update&&t[s].update(),cookie.setItem("[gunn-web-app] scheduleapp.options",JSON.stringify(L)),c.classList.add("ripple-dark"),c.classList.remove("ripple-light")}).catch(e=>{k.disabled=!1,alert(a("cannot"))}):caches.open(I).then(e=>{k.disabled=!1,e.delete(`./.period-images/${s}`),l=!1,c.style.backgroundColor=u.colour,c.style.backgroundImage=null,J&&J.setPeriod(s,"",u.colour),L[E.indexOf(s)][1]=u.colour,t[s].update&&t[s].update(),cookie.setItem("[gunn-web-app] scheduleapp.options",JSON.stringify(L)),u.darkness()>125?(c.classList.add("ripple-dark"),c.classList.remove("ripple-light")):(c.classList.add("ripple-light"),c.classList.remove("ripple-dark"))}).catch(e=>{k.disabled=!1})}),u.window.appendChild(k),n}return n}var we=document.createDocumentFragment(),ke=be(we)(e.replace("{X}","A"),"A",L[1][1],L[1][0])(e.replace("{X}","B"),"B",L[2][1],L[2][0])(e.replace("{X}","C"),"C",L[3][1],L[3][0])(e.replace("{X}","D"),"D",L[4][1],L[4][0])(e.replace("{X}","E"),"E",L[5][1],L[5][0])(e.replace("{X}","F"),"F",L[6][1],L[6][0])(e.replace("{X}","G"),"G",L[7][1],L[7][0])(a("flex"),"Flex",L[8][1],L[8][0]);+c[3]&&(ke=ke(a("self"),"SELF",L[11][1],L[11][0])),ke(a("brunch"),"Brunch",L[9][1],L[9][0])(a("lunch"),"Lunch",L[10][1],L[10][0]),document.querySelector(".section.options").insertBefore(we,document.querySelector("#periodcustomisermarker"))}const M=60,O=50,F=1e3,A=2e-4;function B(e,t){const n=document.createElement("canvas");n.classList.add("confetti"),n.width=n.height=2*M,n.style.left=e+"px",n.style.top=t+"px";const a=n.getContext("2d"),o=[];for(let e=O;e--;)o.push({x:0,y:0,xv:(2*Math.random()-1)/30,yv:.1*-Math.random(),fadeOffset:Math.random(),colour:16777216*Math.random()});document.body.appendChild(n);const s=Date.now();let r=s;!function e(){a.clearRect(0,0,2*M,2*M);const t=Date.now(),i=t-r;for(let e=o.length;e--;){const n=o[e];n.x+=i*n.xv,n.y+=i*n.yv,n.yv+=i*A;const r=t-s-n.fadeOffset;r>F?o.splice(e,1):(a.fillStyle=`rgba(\n        ${n.colour>>16&255},\n        ${n.colour>>8&255},\n        ${255&n.colour},\n        ${1-(Math.max(r,0)/F)**2}\n      )`,a.fillRect(n.x+M-1,n.y+M-1,2,2))}r=t,o.length?window.requestAnimationFrame(e):document.body.removeChild(n)}()}const N=1,q=()=>null,H={};let j=0;class P{constructor(e={}){this.setProps(e),this.id=j++,H[this.id]=this,this.manager=null}setProps({text:e="",category:t="homework",importance:n=0,dueObj:a,period:o=null,done:s=!1}={}){void 0!==e&&(this.text=e),t&&(this.category=t),void 0!==n&&(this.importance=n),a&&this.setDue(a),void 0!==o&&(this.period=o),void 0!==s&&(this.done=s)}setDue(e){this.dueObj=e,this.due=P.dateObjToDayInt(new Date(e.y,e.m,e.d))}get sortableImportance(){return this.done?-1:this.importance}get algorithmicValue(){return this.due-this.sortableImportance*N}remove(){if(delete H[this.id],this.manager){const e=this.manager.assignments.indexOf(this);~e&&this.manager.assignments.splice(e,1),this.manager=null}}managedBy(e){return this.manager=e,this}toHTML({today:e}={}){return`\n    <div class="asgn-line asgn-importance-${this.importance}${this.done?" asgn-is-done":""}" data-asgn-id="${this.id}">\n      <button class="asgn-done-btn material icon" aria-label="${a(this.done?"undoneify":"doneify")}"><i class="material-icons">${this.done?"&#xe834;":"&#xe835;"}</i></button>\n      <span class="asgn-due">${a("due")}</span>\n      <span class="asgn-category asgn-category-${this.category}">${a("asgn-cat-"+this.category)}</span>\n      ${e>this.due?`<span class="asgn-overdue">${a("overdue")}</span>`:""}\n      <span class="asgn-text" tabindex="0">${r(this.text)}</span>\n    </div>\n    `}toElem({today:e,getPeriodSpan:t=null}={}){const n=document.createElement("div");n.classList.add("asgn-line"),n.classList.add("asgn-importance-"+this.importance),n.dataset.asgnId=this.id,this.done&&n.classList.add("asgn-is-done");const o=document.createElement("button");o.classList.add("asgn-done-btn"),o.classList.add("material"),o.classList.add("icon"),o.setAttribute("aria-label",a(this.done?"undoneify":"doneify")),w(o);const s=document.createElement("i");s.classList.add("material-icons"),s.innerHTML=this.done?"&#xe834;":"&#xe835;",o.appendChild(s),n.appendChild(o);const r=document.createElement("span");if(r.classList.add("asgn-category"),r.classList.add("asgn-category-"+this.category),r.textContent=a("asgn-cat-"+this.category),n.appendChild(r),e>this.due){const e=document.createElement("span");e.classList.add("asgn-overdue"),e.textContent=a("overdue"),n.appendChild(e)}const i=document.createElement("span");i.classList.add("asgn-text"),i.textContent=this.text,i.tabIndex=0,n.appendChild(i);const l=document.createElement("span");return l.classList.add("asgn-due-date"),l.innerHTML=ne("due-date",{P:this.period&&t&&t(this.period),D:ne("date",{M:te[this.dueObj.m],D:this.dueObj.d})}),n.appendChild(l),n}toJSON(){return{text:this.text,category:this.category,importance:this.importance,dueObj:this.dueObj,period:this.period,done:this.done}}toString(){return`D${this.due} I${this.importance} C-${this.category} ${this.text}`}static dateObjToDayInt(e){const t=e.getTime()/1e3/60-e.getTimezoneOffset();return Math.floor(t/60/24)}}class Y{constructor(e=[]){this.assignments=e.map(e=>new P(e).managedBy(this))}addAssignment(e){this.assignments.push(e.managedBy(this))}getAssignmentsFor(e){return this.assignments.filter(({due:t})=>t===e)}getAssignmentsBefore(e){return this.assignments.filter(({due:t})=>t<=e)}getAssignmentsToDoFor(e){return this.assignments.filter(({due:t,done:n})=>!n||e<=t)}sortAssignmentsBy(e="chrono-primero"){switch(e){case"chrono-primero":this.assignments.sort((e,t)=>e.due===t.due?t.sortableImportance-e.sortableImportance:e.due-t.due);break;case"important-importance":this.assignments.sort((e,t)=>e.importance===t.importance?e.due-t.due:t.sortableImportance-e.sortableImportance);break;case"aLgOriThMs":this.assignments.sort((e,t)=>e.algorithmicValue-t.algorithmicValue);break;default:throw new Error("idk how to do that")}return this}toJSON(){return this.assignments}}function G({editor:e=q,save:t=q,rerender:n=q,getDefaultDate:o=q,loadJSON:s=""}){try{if(s=JSON.parse(s),!Array.isArray(s))throw"something"}catch(e){s=[]}const r=new Y(s),i=document.createElement("div");i.classList.add("asgn-upcoming");const l=document.createElement("h1");l.textContent=a("asgn"),i.appendChild(l);const d=document.createElement("button");d.classList.add("material"),d.classList.add("icon"),d.classList.add("add-asgn");const c=document.createElement("i");c.classList.add("material-icons"),c.innerHTML="&#xe145;",d.appendChild(c),w(d),l.appendChild(d);const u=document.createElement("div");u.classList.add("asgn-wrapper"),i.appendChild(u);const m=t=>{e(t).onSave(e=>{t.setProps(e),t.manager||r.addAssignment(t)}).onDelete(()=>t.remove()).onFinish(()=>{f.todayIs(),n()})};let p,h,g;document.addEventListener("click",e=>{if(e.target.classList.contains("add-asgn"))return void m(new P({dueObj:o()||{y:p.getFullYear(),m:p.getMonth(),d:p.getDate()},period:e.target.dataset.pd||null}));const n=e.target.closest(".asgn-line");if(n){const o=H[n.dataset.asgnId];e.target.classList.contains("asgn-done-btn")?(o.done=!o.done,o.done?(B(e.clientX,e.clientY),n.classList.add("asgn-is-done")):n.classList.remove("asgn-is-done"),e.target.setAttribute("aria-label",a(o.done?"undoneify":"doneify")),e.target.children[0].innerHTML=o.done?"&#xe834;":"&#xe835;",t()):e.target.classList.contains("asgn-text")&&m(o)}});const f={todayIs(e=g,t=p,n=h){const a=P.dateObjToDayInt(t||p);u.innerHTML="",r.sortAssignmentsBy(n).getAssignmentsToDoFor(a).forEach(t=>u.appendChild(t.toElem({today:a,getPeriodSpan:e}))),g=e,p=t,h=n},displaySection(e="after"){if("none"===e)i.parentNode&&i.parentNode.removeChild(i);else{const t=document.getElementById(`asgn-sec-ins-${e}-pt`);t.parentNode.insertBefore(i,t)}},getScheduleAsgns(e,t){const n=P.dateObjToDayInt(p),a={};return r.sortAssignmentsBy("important-importance").getAssignmentsFor(P.dateObjToDayInt(e)).forEach(e=>{a[e.period||"noPeriod"]||(a[e.period||"noPeriod"]=""),a[e.period||"noPeriod"]+=e.toHTML({today:n})}),a},getSaveable:()=>JSON.stringify(r)};return f}window.addEventListener("load",e=>{function t(e){return a(e,"placeholders")}function n(e){if(!e)return()=>!0;if("r/"===e.slice(0,2))try{const t=new RegExp(e.slice(2),"i");return e=>t.test(e)}catch(e){}return e=e.toLowerCase(),t=>t.toLowerCase().includes(e)}var r=document.querySelector("#disable-lists"),i;if(null===cookie.getItem("[gunn-web-app] scheduleapp.loadLists")&&cookie.setItem("[gunn-web-app] scheduleapp.loadLists","yes"),!("yes"===cookie.getItem("[gunn-web-app] scheduleapp.loadLists")))return r.textContent=a("enable-lists"),r.addEventListener("click",e=>{cookie.setItem("[gunn-web-app] scheduleapp.loadLists","yes"),window.location.reload()},!1),s(".lists-enabled button",e=>e.addEventListener("click",e=>{cookie.setItem("[gunn-web-app] scheduleapp.loadLists","yes"),window.location.reload()},!1)),void s(".lists-enabled",e=>e.classList.remove("lists-enabled"));r.addEventListener("click",e=>{cookie.setItem("[gunn-web-app] scheduleapp.loadLists","no"),window.location.reload()},!1);var l,d=document.querySelector("#staff"),c=document.querySelector("#staffcontact"),u=document.querySelector("#staffcontact h1"),m=document.querySelector("#staffcontact .content"),p=document.querySelector("#staffsearch");o(("file:"===window.location.protocol?"https://orbiit.github.io/gunn-web-app/":"")+"json/staff.json",e=>{(l=JSON.parse(e))["Aaryan Agrawal Person"]={game:!0,jobTitle:a("supreme-leader"),department:a("universe")};for(var t,n="",o=0,s=Object.keys(l).sort((e,t)=>e[e.lastIndexOf(" ")+1].charCodeAt()-t[t.lastIndexOf(" ")+1].charCodeAt()),r=s.length,i=s[o];o<r;i=s[++o])n+=`<li tabindex="0" data-person="${i}" data-search="${i} ${l[i].jobTitle} ${l[i].department||""}"><span class="primary">${i}</span><span class="secondary">${l[i].jobTitle}</span><span class="secondary">${l[i].department||""}</span></li>`;d.innerHTML=n,w("#staff li"),p.value&&y()},e=>{d.innerHTML=`<li class="error">${e}${a("staff-error")}</li>`});let g=!1;function y(){const e=n(p.value);for(let t=0;t<d.children.length;t++){const n=d.children[t];n.style.display=e(n.dataset.search)?null:"none"}}d.addEventListener("click",e=>{var t=e.target;if("SPAN"===t.tagName&&(t=t.parentNode),"LI"===t.tagName&&!t.classList.contains("error")){c.classList.add("show");var n=t.dataset.person;u.innerHTML=n;const e=l[n];if(e.game){m.innerHTML='\n        <div style="display: flex; align-items: center;">\n          <div class="center" style="flex: auto;">\n            <style>.egg-snake:focus {box-shadow: 0 0 3px #FF594C;}</style>\n            <canvas class="egg-snake" width="20" height="20" tabindex="0" style="height: 100px; image-rendering: pixelated; cursor: pointer; border: 1px solid currentColor;"></canvas>\n          </div>\n          <div class="center">\n            <div><button class="material icon egg-arrow-up"><i class="material-icons">keyboard_arrow_up</i></button></div>\n            <div>\n              <button class="material icon egg-arrow-left"><i class="material-icons">keyboard_arrow_left</i></button>\n              <button class="material icon egg-arrow-play"><i class="material-icons">play_arrow</i></button>\n              <button class="material icon egg-arrow-right"><i class="material-icons">keyboard_arrow_right</i></button>\n            </div>\n            <div><button class="material icon egg-arrow-down"><i class="material-icons">keyboard_arrow_down</i></button></div>\n          </div>\n        </div>\n        <p>Score: <span class="egg-score">[press play to start]</span>; personal high score: <span class="egg-hscore"></span></p>\n        <p>Click on the box to give it focus so you can use arrow keys.</p>\n        <p><button class="material ripple-light raised egg-btn">click me</button> <span class="egg-count"></span> click(s)</p>\n        <p><button class="material ripple-light raised egg-buy-btn">extra click per click</button> <span class="egg-power"></span> click(s) per click (price: <span class="egg-price">50</span> clicks)</p>\n        <p><button class="material ripple-light raised egg-buy-t-btn">extra click per second</button> <span class="egg-extra"></span> click(s) per second (price: <span class="egg-t-price">100</span> clicks; note: this resets when UGWA is refreshed)</p>\n        ';const e=m.querySelector(".egg-snake"),t=e.getContext("2d"),n=m.querySelector(".egg-arrow-play"),a=m.querySelector(".egg-arrow-left"),l=m.querySelector(".egg-arrow-up"),c=m.querySelector(".egg-arrow-right"),u=m.querySelector(".egg-arrow-down"),L=m.querySelector(".egg-score"),E=m.querySelector(".egg-hscore");[n,a,l,c,u].forEach(w);let x=[0,1];function o(){let e;do{e=[20*Math.random()>>0,20*Math.random()>>0]}while(s(e));return e}function s(e){for(const[t,n]of S)if(e[0]===t&&e[1]===n)return!0;return!1}function r(){t.clearRect(0,0,20,20),t.fillStyle="#FF594C",S.forEach(([e,n])=>{t.fillRect(e,n,1,1)}),t.fillStyle=document.body.classList.contains("dark")?"white":"black",t.fillRect(I[0],I[1],1,1)}a.onclick=(e=>x=[-1,0]),l.onclick=(e=>x=[0,-1]),c.onclick=(e=>x=[1,0]),u.onclick=(e=>x=[0,1]),e.onkeydown=(e=>{switch(e.keyCode){case 37:a.click();break;case 38:l.click();break;case 39:c.click();break;case 40:u.click();break;default:return}e.preventDefault()});let $=!1,C,S,I,T,D=+cookie.getItem("[gunn-web-app] scheduleapp.snakeHighScore")||0;E.textContent=D,n.onclick=(t=>{L.textContent=C=0,S=[[9,9]],I=o(),T=3,$=setInterval(()=>{document.body.contains(e)||(clearInterval($),$=!1);const t=S[S.length-1],n=[t[0]+x[0],t[1]+x[1]];n[0]<0||n[0]>=20||n[1]<0||n[1]>=20||s(n)?(clearInterval($),$=!1,L.textContent=C+` (GAME OVER${C>D?" - NEW HIGH SCORE":""})`,C>D&&(D=C,E.textContent=D,cookie.setItem("[gunn-web-app] scheduleapp.snakeHighScore",D))):n[0]===I[0]&&n[1]===I[1]&&(I=o(),T++,L.textContent=++C),S.push(n),S.length>T&&S.splice(0,1),r()},200),r()});var i=m.querySelector(".egg-btn"),d=m.querySelector(".egg-buy-btn"),p=m.querySelector(".egg-count"),h=m.querySelector(".egg-price"),f=m.querySelector(".egg-power"),y=m.querySelector(".egg-buy-t-btn"),v=m.querySelector(".egg-t-price"),b=m.querySelector(".egg-extra"),k=g||{count:+cookie.getItem("[gunn-web-app] scheduleapp.clicks")||0,power:+cookie.getItem("[gunn-web-app] scheduleapp.clickPower")||1,extra:0};k.clicks=p,w(i),w(d),w(y),p.textContent=k.count,i.addEventListener("click",e=>{k.count+=k.power,cookie.setItem("[gunn-web-app] scheduleapp.clicks",k.count),p.textContent=k.count},!1),h.textContent=25*(k.power+1),f.textContent=k.power,d.addEventListener("click",e=>{const t=25*(k.power+1);k.count<t?h.textContent=t+" (which is too many for you)":(k.count-=t,p.textContent=k.count,cookie.setItem("[gunn-web-app] scheduleapp.clicks",k.count),k.power++,f.textContent=k.power,cookie.setItem("[gunn-web-app] scheduleapp.clickPower",k.power),h.textContent=25*(k.power+1))},!1),v.textContent=150*k.extra+100,b.textContent=k.extra,y.addEventListener("click",e=>{const t=150*k.extra+100;k.count<t?v.textContent=t+" (which is too many for you)":(k.count-=t,p.textContent=k.count,cookie.setItem("[gunn-web-app] scheduleapp.clicks",k.count),k.extra++,b.textContent=k.extra,v.textContent=150*k.extra+100)},!1),g||(g=k,setInterval(()=>{k.count+=k.extra,g.clicks.textContent=k.count,cookie.setItem("[gunn-web-app] scheduleapp.clicks",k.count)},1e3))}else{let t="";t+=`<p><strong>${a("title")}</strong> ${e.jobTitle}</p>`,t+=`<p><strong>${a("department")}</strong> ${e.department}</p>`,t+=`<p><strong>${a("email")}</strong> <a href="mailto:${e.email}" target="_blank" rel="noopener noreferrer">${e.email}</a></p>`,e.phone&&(t+=`<p><strong>${a("phone")}</strong> ${e.phone}</p>`),e.webpage&&(t+=`<p><strong>${a("website")}</strong> <a href="${e.webpage}" target="_blank" rel="noopener noreferrer">${e.webpage}</a></p>`),e.oc&&(t+=`<p><strong>${a("basement")}</strong> <a href="https://sheeptester.github.io/hello-world/elements.html" target="_blank" rel="noopener noreferrer">${a("oc-basement")}</a></p>`),m.innerHTML=t}}},!1);const v=/(?:\?|&)staff-search=([^&]+)/.exec(window.location.search);v&&(p.value=v[1]),p.addEventListener("input",y,!1),p.placeholder=t("staff");var b,k=document.querySelector("#clubs"),L=document.querySelector("#clubinfo"),E=document.querySelector("#clubinfo h1"),x=document.querySelector("#clubinfo .content"),$=document.querySelector("#clubsearch"),C=document.getElementById("club-add-list");o(("file:"===window.location.protocol?"https://orbiit.github.io/gunn-web-app/":"")+"json/clubs.json",e=>{(b=JSON.parse(e))[a("sophomore-club")]={desc:a("soph-desc"),day:a("soph-day"),time:a("soph-time"),room:a("soph-room"),president:a("soph-prez"),teacher:a("soph-teacher"),email:a("soph-email")};for(var t,n="",o=0,s=Object.keys(b).sort(),r=s.length,i=s[o];o<r;i=s[++o])n+=`<li tabindex="0" data-club="${i}" data-search="${i} ${b[i].room} ${b[i].day}"><span class="primary">${i}</span><span class="secondary">${b[i].room}</span><span class="secondary">${b[i].day}</span></li>`;k.innerHTML=n,w("#clubs li"),$.value&&I()},e=>{k.innerHTML=`<li class="error">${e}${a("club-error")}</li>`});let S=null;function I(){const e=n($.value);for(let t=0;t<k.children.length;t++){const n=k.children[t];n.style.display=e(n.dataset.search)?null:"none"}}window.showClub=(e=>{L.classList.add("show"),E.innerHTML=e,S=e;const t=b[e];C.textContent=h[e]?a("remove-from-list"):a("add-to-list"),C.style.display=/lunch/i.test(t.time)?null:"none";let n="";n+=`<p><strong>${a("day")}</strong> ${t.day}</p>`,n+=`<p><strong>${a("time")}</strong> ${t.time}</p>`,n+=`<p><strong>${a("location")}</strong> ${t.room}</p>`,n+=`<p><strong>${a("desc")}</strong> ${t.desc}</p>`,n+=`<p><strong>${a("presidents")}</strong> ${t.president}</p>`,n+=`<p><strong>${a("advisors")}</strong> ${t.teacher}</p>`,n+=`<p><strong>${a("teacher-email")}</strong> <a href="mailto:${t.email}" target="_blank" rel="noopener noreferrer">${t.email}</a></p>`,t.donation&&(n+=`<p><strong>${a("donation")}</strong> ${t.donation}</p>`),x.innerHTML=n;for(var o=x.querySelectorAll("a:not([href])"),s=0;s<o.length;s++)o[s].href=o[s].textContent,o[s].setAttribute("target","_blank"),o[s].setAttribute("rel","noopener noreferrer")}),k.addEventListener("click",e=>{var t=e.target;"SPAN"===t.tagName&&(t=t.parentNode),"LI"!==t.tagName||t.classList.contains("error")||showClub(t.dataset.club)},!1),C.addEventListener("click",e=>{if(S){if(h[S])delete h[S],C.childNodes[0].nodeValue=a("add-to-list");else{h[S]=1;const e=b[S].day;/monday/i.test(e)&&(h[S]*=2),/tuesday/i.test(e)&&(h[S]*=3),/wednesday/i.test(e)&&(h[S]*=5),/thursday/i.test(e)&&(h[S]*=7),/friday/i.test(e)&&(h[S]*=11),C.childNodes[0].nodeValue=a("remove-from-list")}f()}});const T=/(?:\?|&)club-search=([^&]+)/.exec(window.location.search);$.value=T?T[1]:["","monday","tuesday","wednesday","thursday","friday",""][(new Date).getDay()],$.addEventListener("input",I,!1),$.placeholder=t("clubs")},!1),window.addEventListener("load",e=>{const t="95000000";var n=document.querySelector("#barcode"),o=document.querySelector("#addbarcode"),s=[[a("you"),t]],r=[];let i=cookie.getItem("[gunn-web-app] barcode.ids");i&&(s="A"===i[0]?JSON.parse(i.slice(1)):i.split(",").map((e,t)=>[a("barcode-legacy-default").replace("{N}",t),e]));const l=/(?:\?|&)barcode=([^&]+)/.exec(window.location.search),d=l&&decodeURIComponent(l[1]);function c(){cookie.setItem("[gunn-web-app] barcode.ids","A"+JSON.stringify(r.map(([e,t])=>[e.value,t.value])))}function u([e=a("barcode-default"),o=t]=[]){var s=document.createElement("li"),i=document.createElement("div"),l=document.createElement("input"),u=document.createElement("canvas"),m=document.createElement("div"),p=document.createElement("button"),h=document.createElement("button");i.classList.add("canvas");const g=document.createElement("input");return g.value=e,g.placeholder=a("barcode-student-placeholder"),g.classList.add("barcode-student-name"),g.addEventListener("input",e=>{c()},!1),i.appendChild(g),l.value=o,l.classList.add("barcode-student-id"),l.addEventListener("input",e=>{b(l.value,u),c()},!1),i.appendChild(l),b(o,u),u.addEventListener("click",e=>{u.classList.remove("viewbarcode"),window.history.replaceState({},"","./")},!1),i.appendChild(u),s.appendChild(i),p.classList.add("material"),p.classList.add("icon"),w(p),p.addEventListener("click",e=>{r.splice(r.indexOf(l),1),n.removeChild(s),s=i=l=u=m=p=h=null,c()},!1),p.innerHTML='<i class="material-icons">&#xE15B;</i>',m.appendChild(p),h.classList.add("material"),h.classList.add("icon"),w(h),h.addEventListener("click",e=>{u.classList.add("viewbarcode"),window.history.replaceState({},"","?barcode="+encodeURIComponent(o))},!1),o===d&&u.classList.add("viewbarcode"),h.innerHTML='<i class="material-icons">&#xE8F4;</i>',m.appendChild(h),s.appendChild(m),r.push([g,l]),s}for(var m=document.createDocumentFragment(),p=0;p<s.length;p++)m.appendChild(u(s[p]));n.insertBefore(m,o.parentNode),o.addEventListener("click",e=>{n.insertBefore(u(),o.parentNode),c()},!1),c()},!1);const U=6,J=/<(p|div|br).*?>|\),? *(?=[A-Z0-9])/g,R=/<.*?>/g,z=/&nbsp;/g,W=/\(?(1?[0-9]):([0-9]{2}) *(?:-|–) *(1?[0-9]):([0-9]{2}) *(pm)?\)?/,X=/\r?\n/g,_=/\n\(/g,V=/schedule|extended|lunch/i,Z=/holiday|no\sstudents|break|development/i;function K(e,t){if(V.test(e)){if(!t)return;let e=[];return(t="\n"+t.replace(_,"(").replace(J,"\n").replace(R,"").replace(z," ")).split(X).map(t=>{let n;const a=t.replace(W,(...e)=>(n=e,"")).trim();if(!n)return void(e.length>0&&(e[e.length-1].original+="\n"+a));let[,o,s,r,i,l]=n;s=+s,r=+r,i=+i,((o=+o)<U||l)&&(o+=12),(r<U||l)&&(r+=12);const d=60*o+s,c=60*r+i,u=e.findIndex(e=>e.start===d);~u?(e[u].name+="\n"+a,c>e[u].end&&(e[u].end=c)):e.push({name:a,start:d,end:c})}),e}if(Z.test(e)){if(t)return;return null}}function Q(e,t=6){let n={};for(let t=e.length;t--;){const a=K(e[t].summary,e[t].description);if(void 0!==a)if(e[t].start.date){const o=new Date(e[t].start.date);for(;o.toISOString().slice(5,10)!==e[t].end.date.slice(5,10);)n[o.toISOString().slice(5,10)]=a,o.setUTCDate(o.getUTCDate()+1)}else n[e[t].start.dateTime.slice(5,10)]=a}return n}var ee=a("days").split("  "),te=a("months").split("  ");function ne(e,t={}){let n=a(e,"times");return"function"==typeof n?n(t):(n+="",Object.keys(t).forEach(e=>{n=n.replace(`{${e}}`,t[e])}),n)}const ae=document.createElement("div");function oe(e){return ae.style.backgroundColor=e,e=(e=ae.style.backgroundColor).slice(e.indexOf("(")+1,e.indexOf(")")).split(/,\s*/).map(e=>+e),Math.round((299*parseInt(e[0])+587*parseInt(e[1])+114*parseInt(e[2]))/1e3)>150?"rgba(0,0,0,0.8)":"white"}function se(e={}){var n,o=document.createElement("div");function s(t){return e.periods[t]||{label:t,colour:"#000"}}function i(t){var n=+t.slice(0,2)%24;return e.h0Joke?+t.slice(2)+"":e.h24?`${n}:${t.slice(2)}`:`${(n-1)%12+1}:${t.slice(2)}${n<12?"a":"p"}m`}function l(e,t){return"#"===e[0]?`background-color:${e};color:${oe(e)};`:`background-image: url('./.period-images/${t}?${encodeURIComponent(e)}'); color: white; text-shadow: 0 0 10px black;`}function d(t){return e.compact?`${Math.floor(t/60)}:${("0"+t%60).slice(-2)}`:ne("duration",{T:t})}function c(e){return`<span style="${l(s(e).colour,e)}" class="schedule-endinginperiod">${r(s(e).label)}</span>`}function u(t,n){return e.self&&e.selfDays.includes(("0"+(t+1)).slice(-2)+"-"+("0"+n).slice(-2))}n=e.element?e.element:document.createElement("div"),o.classList.add("schedule-container"),e.alternates||(e.alternates={}),e.periods||(e.periods={}),e.normal||(e.normal={}),oe("rgba(0,0,0,0.2)");let m=!1;const p={1:2,2:3,3:5,4:7,5:11};function f(t=0){var n=new Date,o,g,f=!0,y=n.getMinutes()+60*n.getHours();0!==t&&(n=new Date(n.getFullYear(),n.getMonth(),n.getDate()+t),f=!1);const v=n.getFullYear(),b=n.getMonth(),w=n.getDate(),k=n.getDay();o=`<h2 class="schedule-dayname">${g=ee[k]}</h2><h3 class="schedule-date"><a class="totally-not-a-link" href="?date=${`${v}-${b+1}-${w}`}">${ne("date",{M:te[b],D:w})}</a></h3>`;const L=e.getAssignments(n);L.noPeriod&&(o+=L.noPeriod);var E=u(b,w),x;function $(e){return"Flex"===x[e].name&&E?"SELF":x[e].name}if(e.customSchedule&&(x=e.customSchedule(n,v,b,w,k)),x);else{if(e.isSummer&&e.isSummer(v,b,w))return o+`<span class="schedule-noschool">${a("summer")}</span>`;if(e.alternates[b+1+"-"+w]){var C=e.alternates[b+1+"-"+w];o+=`<span class="schedule-alternatemsg">${a("before-alt-msg")}<strong>${C.description}</strong>${a("after-alt-msg")}</span>`,x=C.periods}else x=e.normal[k]&&e.normal[k].length?e.normal[k]:[]}if(x.length){if(f){for(var S=0;S<x.length&&!(y<x[S].end.totalminutes);S++);var I,T,D,M;S>=x.length?(I=`<p class="schedule-endingin">${ne("ended",{P:c(D=$(x.length-1)),T:`<strong>${T=d(y-x[x.length-1].end.totalminutes)}</strong>`})}</p>`,M=a("appname"),e.onEndOfDay&&e.onEndOfDay(e.onEndOfDay=null)):y>=x[S].start.totalminutes?(I=`<div class="schedule-periodprogress"><div style="width: ${(y-x[S].start.totalminutes)/(x[S].end.totalminutes-x[S].start.totalminutes)*100}%;"></div></div><p class="schedule-endingin">${ne("ending",{P:c(D=$(S)),T:`<strong>${T=d(x[S].end.totalminutes-y)}</strong>`})}</p>`,M=ne("ending-short",{T:T})):(I=`<p class="schedule-endingin">${ne("starting",{P:c(D=$(S)),T:`<strong>${T=d(x[S].start.totalminutes-y)}</strong>`})}</p>`,M=ne("starting-short",{T:T,P:s(D).label})),o+=I,m&&(e.compact?document.title=M:document.title=I.replace(/<[^>]+>/g,""))}for(var D of x){var O=s("Flex"===D.name&&E?"SELF":D.name);if(o+=`<div class="schedule-period" style="${l(O.colour,D.name)}"><span class="schedule-periodname">${r(O.label)}<button class="material add-asgn" data-pd="${D.name}">${a("add-asgn")}</button></span><span>${i(("0"+D.start.hour).slice(-2)+("0"+D.start.minute).slice(-2))} &ndash; ${i(("0"+D.end.hour).slice(-2)+("0"+D.end.minute).slice(-2))} &middot; ${ne("long",{T:d(D.end.totalminutes-D.start.totalminutes)})}</span>`,f&&(o+="<span>",y>=D.end.totalminutes?o+=ne("self-ended",{T:`<strong>${d(y-D.end.totalminutes)}</strong>`}):y<D.start.totalminutes?o+=ne("self-starting",{T:`<strong>${d(D.start.totalminutes-y)}</strong>`}):o+=ne("self-ending",{T1:`<strong>${d(D.end.totalminutes-y)}</strong>`,T2:d(y-D.start.totalminutes)}),o+="</span>"),L[D.name]&&(o+=L[D.name]),"Lunch"===D.name&&p[k]){const e=[];Object.keys(h).forEach(t=>{h[t]%p[k]==0&&e.push(t)}),e.length&&(o+=`<span class="small-heading">${a("lunch-clubs")}</span>`+e.map(e=>`<a class="club-link" href="#" onclick="showClub(\`${e}\`);event.preventDefault()">${e}</a>`).join(""))}o+="</div>"}}else o+=`<span class="schedule-noschool">${s("NO_SCHOOL").label}</span>`;return o}function y(){e.update&&(o.innerHTML=f(e.offset))}function v(){m=!0,f(e.offset),window.removeEventListener("blur",v,!1)}e.offset||(e.offset=0),window.addEventListener("blur",v,!1);var b={options:e,element:n,update(){e.update=!0,o.innerHTML=f(e.offset),clearTimeout(w),w=setTimeout(b.update,1e3*(60-(new Date).getSeconds())),window.addEventListener("focus",y,!1),g=y},stopupdate(){e.update=!1,clearTimeout(t),window.removeEventListener("focus",y,!1)},get offset(){return e.offset},set offset(t){e.offset=t,o.innerHTML=f(e.offset)},setPeriod(t,n,a){n&&(e.periods[t].label=n),a&&(e.periods[t].colour=a),o.innerHTML=f(e.offset)},getWeek(){var t=new Date,n=[];today=new Date(t.getFullYear(),t.getMonth(),t.getDate()+e.offset);for(var a=0;a<7;a++){var o=new Date(today.getFullYear(),today.getMonth(),today.getDate()-today.getDay()+a),r=[],i=u(o.getMonth(),o.getDate()),l;if((l=e.isSummer&&e.isSummer(o.getFullYear(),o.getMonth(),o.getDate())?[]:e.alternates[o.getMonth()+1+"-"+o.getDate()]?e.alternates[o.getMonth()+1+"-"+o.getDate()].periods:e.normal[o.getDay()]||[]).length)for(var d of l){const e=s("Flex"===d.name&&i?"SELF":d.name);e.id=d.name,r.push(e)}today.getDay()===a&&(r.today=!0),n.push(r)}return n},getPeriodSpan:c},w;return e.update?b.update():o.innerHTML=f(e.offset),n.appendChild(o),b}function re(e){var t="createElement",n="clientX",a="clientY",o="touches",s="preventDefault",r="addEventListener",i="removeEventListener",l=!1,d=1,c=0,u={x:0,y:0},m=document[t]("div"),p=document[t]("div"),h=h||function(...e){for(var t=0,n=0;n<e.length;n++)t+=e[n]*e[n];return Math.sqrt(t)};function g(){e.style.transform=`translate(${u.x}px,${u.y}px) rotate(${c}deg) scale(${d})`,m.style.transform=`rotate(${c}deg)`}function f(e){if(l)if(2===l.a){var t=e[o][0][n]-e[o][1][n],r=e[o][1][a]-e[o][0][a];c=l.c+Math.atan(t/r)/Math.PI*180+180*(r<0)-l.b,d=h(e[o][0][n]-e[o][1][n],e[o][0][a]-e[o][1][a])/l.d*l.e,u={x:(e[o][0][n]+e[o][1][n])/2-l.f+l.h,y:(e[o][0][a]+e[o][1][a])/2-l.g+l.i},g()}else 1===l.a&&(u={x:e[o][0][n]-l.j+l.h,y:e[o][0][a]-l.k+l.i},g());e[s]()}function y(e){l=!1,document[i]("touchmove",f,!1),document[i]("touchend",y,!1),e[s]()}function v(e){if(l){if(l.l){var t=e[n]-l.j,o=l.k-e[a];c=Math.atan(t/o)/Math.PI*180+180*(o<0)}else u={x:e[n]-l.j+l.h,y:e[a]-l.k+l.i};g()}e[s]()}function b(e){l.l&&l.up<1?l.up++:(l.l&&document.body.removeChild(m),l=!1,document[i]("mousemove",v,!1),document[i]("mouseup",b,!1)),e[s]()}p.classList.add("zoom-dial"),m.classList.add("zoom-rotate"),m.appendChild(p),e[r]("touchstart",e=>{if(l){if(1===l.a){var t=e[o][0][n]-e[o][1][n],i=e[o][1][a]-e[o][0][a];l={a:2,b:Math.atan(t/i)/Math.PI*180+180*(i<0),c:c,d:h(e[o][0][n]-e[o][1][n],e[o][0][a]-e[o][1][a]),e:d,f:(e[o][0][n]+e[o][1][n])/2,g:(e[o][0][a]+e[o][1][a])/2,h:u.x,i:u.y}}}else l={a:1,j:e[o][0][n],k:e[o][0][a],h:u.x,i:u.y},document[r]("touchmove",f,{passive:!1}),document[r]("touchend",y,{passive:!1});e[s]()},{passive:!1}),e[r]("mousedown",e=>{l||(3===e.which?(l={l:!0,up:0,j:e[n],k:e[a]},document.body.appendChild(m),m.style.left=e[n]+"px",m.style.top=e[a]+"px"):l={j:e[n],k:e[a],h:u.x,i:u.y},document[r]("mousemove",v,!1),document[r]("mouseup",b,!1),e[s]())},!1),e[r]("wheel",e=>{var t=Math.abs(e.deltaY/1e3)+1;e.deltaY<0?(d*=t,u.x*=t,u.y*=t):e.deltaY>0&&(d/=t,u.x/=t,u.y/=t),g(),e[s]()},!1),e[r]("contextmenu",e=>{e[s]()},!1)}</script><body><script>document.body.className=`${cookie.getItem("global.theme")||"light"} footer-${cookie.getItem("[gunn-web-app] section")||"schedule"}`</script><div id=footer><ul><li data-section=utilities tabindex=0><i class=material-icons></i><span>{{utilities}}</span><li data-section=clubs tabindex=0><i class=material-icons></i><span>{{clubs}}</span><li data-section=schedule tabindex=0><i class=material-icons></i><span>{{schedule}}</span><li data-section=staff tabindex=0><i class=material-icons></i><span>{{staff}}</span><li data-section=options tabindex=0><i class=material-icons></i><span>{{options}}</span></ul></div><div class="section utilities"><p class=center><a href=https://id.pausd.org/ rel="noopener noreferrer" target=_blank><button class="material raised ripple-light">{{pausd-login}}</button></a><h1>{{barcode}}</h1><p>{{barcode-desc-before-link}}<a href=https://en.wikipedia.org/wiki/Code_39>{{wikipedia}}</a>{{barcode-desc-after-link}}<ul id=barcode><li class=right><button class=material id=addbarcode>{{add-barcode}}</button></ul><h1>{{minscore}}</h1><p>{{current-grade}}<span class=percent-wrapper><input id=current-grade value=95.00><span>%</span></span><p>{{finals-worth}}<span class=percent-wrapper><input id=finals-worth value=15.00><span>%</span></span><p>{{min-grade}}<span class=percent-wrapper><input id=minimum-grade value=90.00><span>%</span></span><p id=grade-output><h1>{{comm}}<a href=./prev-chats.html rel="noopener noreferrer" target=_blank class=chat-history><button class=material>{{prev-chats}}</button></a></h1><textarea class=textarea id=chat readonly></textarea> <button class="material raised ripple-light" id=open-chat>{{open-chat}}</button><div id=chatter><p class=send-msg-wrapper><input id=msg-content placeholder=...><button class=material id=send>{{send}}</button><p id=preview><p>{{msg-note}}</div><h1>{{map}}</h1><p class=center id=maptoggle><p><strong>{{for-image}}</strong>{{image-instruct}}<p><strong>{{for-gmaps}}</strong>{{gmaps-instruct}}</p><img alt="The map image failed to load :(" id=mapimage src=images/gunnmap.svg><div id=mapgoogle></div></div><div class="section clubs"><h1>{{clubs}}<div class=search-wrapper><i class=material-icons></i><input type=search class=notmaterial-input id=clubsearch placeholder="Search clubs"></div></h1><p>{{clubs-disclaimer-before-link}}<a href=https://docs.google.com/spreadsheets/d/1HUaNWegOIk972lGweoSuNcXtfX7XuGBTQU-gcTsvD9s/ >{{clubs-disclaimer-link}}</a>{{clubs-disclaimer-after-link}}<ul id=clubs class="material-list clickables short three-line"></ul><div class="center lists-enabled"><p>{{lists-disabled}}</p><button class="material raised ripple-light">{{turn-back-on}}</button></div></div><div class="section schedule"><span id=seconds></span> <span id=asgn-sec-ins-before-pt></span><p class=center><button class="material icon" id=plihieraux><i class=material-icons></i></button><button class=material id=datepicker>{{select-date}}</button><button class="material icon" id=plimorgaux><i class=material-icons></i></button><p class="center get-error" id=alternateerror><div id=schedulewrapper></div><div id=weekwrapper></div><span id=asgn-sec-ins-after-pt></span><h1>{{events}}</h1><ul id=events class="material-list two-line"></ul></div><div class="section staff"><h1>{{staff-list}}<div class=search-wrapper><i class=material-icons></i><input type=search class=notmaterial-input id=staffsearch placeholder="Search staff"></div></h1><ul id=staff class="material-list clickables short three-line"></ul><div class="center lists-enabled"><p>{{lists-disabled}}</p><button class="material raised ripple-light">{{turn-back-on}}</button></div></div><div class="section options"><h1>{{last-psa}}</h1><div class="block-of-text material-card" id=psa>loading</div><p>{{before-version}}<strong>Thu Aug 15 2019</strong>{{after-version}}<h1>{{theme}}</h1><div class=radios-wrapper><p class=radio-wrapper><input type=radio class=material-radio name=theme value=light><label>{{light-theme}}</label><p class=radio-wrapper><input type=radio class=material-radio name=theme value=dark><label>{{dark-theme}}</label><p class="radio-wrapper is-joke"><input type=radio class=material-radio name=theme value=neither><label>{{neither-theme}}</label><span class=joke-explanation>{{this-is-joke}}</span></div><h1>{{time-formatting}}</h1><div class=radios-wrapper><p class=radio-wrapper><input type=radio class=material-radio name=hour value=h12><label>{{12h}}</label><p class=radio-wrapper><input type=radio class=material-radio name=hour value=h24><label>{{24h}}</label><p class="radio-wrapper is-joke"><input type=radio class=material-radio name=hour value=h0><label>{{no-hour}}</label><span class=joke-explanation>{{this-is-joke}}</span></div><h2>{{title-compact}}</h2><div class=radios-wrapper><p class=radio-wrapper><input type=radio class=material-radio name=format value=full><label>{{units}}</label><p class=radio-wrapper><input type=radio class=material-radio name=format value=compact><label>{{numbers}}</label></div><div class=center><button class="material raised ripple-light" id=disable-lists>{{disable-lists}}</button></div><h1>{{periods}}</h1><p>{{periods-desc}}</p><a id=periodcustomisermarker></a><p class=radio-wrapper><input type=radio class=material-radio name=self value=show><label>{{show-self}}</label><p class=radio-wrapper><input type=radio class=material-radio name=self value=hide><label>{{hide-self}}</label><h1>{{assignments}}</h1><h2>{{asgn-display}}</h2><div class=radios-wrapper><p class=radio-wrapper><input type=radio class=material-radio name=asgn-display value=before><label>{{asgn-before}}</label><p class=radio-wrapper><input type=radio class=material-radio name=asgn-display value=after><label>{{asgn-after}}</label><p class="radio-wrapper is-joke"><input type=radio class=material-radio name=asgn-display value=none><label>{{asgn-none}}</label><span class=joke-explanation>{{this-is-joke}}</span></div><h2>{{asgn-sort}}</h2><div class=radios-wrapper><p class=radio-wrapper><input type=radio class=material-radio name=asgn-sort value=chrono-primero><label>{{asgn-chrono-primero}}</label><p class=radio-wrapper><input type=radio class=material-radio name=asgn-sort value=important-importance><label>{{asgn-important-importance}}</label><p class=radio-wrapper><input type=radio class=material-radio name=asgn-sort value=aLgOriThMs><label>{{asgn-algorithms}}</label></div><h1>{{languages}}</h1><div id=langs></div><h1>{{transfer}}</h1><p><button class=material id=export-copy>{{export-copy}}</button><button class=material id=export-file>{{export-file}}</button></p><textarea class=textarea id=transfer-copypaste></textarea><p>{{import-file}}<input type=file id=import-file accept=application/json><button class=material id=import>{{import}}</button><div class=block-of-text><h1>{{add-ugwa}}</h1><p><strong>{{desktop}}</strong>{{desktop-instruct}}<p><strong>{{chromebook}}</strong>{{chromebook-instruct}}<p><strong>{{ios}}</strong>{{ios-instruct}}<p><strong>{{android}}</strong>{{android-instruct}}<h1>{{bugs}}</h1><p>{{before-gh-link}}<a href=https://github.com/Orbiit/gunn-web-app/issues/new rel="noopener noreferrer" target=_blank>{{gh-link}}</a>{{inter-link}}<a href=mailto:sy24484@pausd.us rel="noopener noreferrer" target=_blank>{{sean-email}}</a>{{after-email}}<p>{{browsers}}<h1>{{about}}</h1><p>{{intent}}<p>{{before-source-link}}<a href=https://github.com/Orbiit/gunn-web-app rel="noopener noreferrer" target=_blank>{{github}}</a>{{after-source-link}}<p>{{other-versions}}<a href=https://orbiit.github.io/gunn-web-app/schedule/ >{{gunn-schedule}}</a>{{inter-link-1}}<a href=https://orbiit.github.io/gunn-web-app/lite/ >{{ugwita}}</a>{{inter-link-2}}<a href=https://orbiit.github.io/ugwa2/ >{{ugwa2}}</a>{{inter-link-3}}<a href=https://orbiit.github.io/ugwisha/ >{{ugwisha}}</a>{{after-links}}<p>{{lonely}}<p>{{other-apps}}<a href=https://itunes.apple.com/us/app/thegunnapp/id1141159201>{{tga-ios}}</a>{{inter-link-4}}<a href="https://play.google.com/store/apps/details?id=xyz.dchen.thegunnapp">{{tga-android}}</a>{{inter-link-5}}<a href=https://nugwa.sord.cf/ >{{nugwa}}</a>{{after-apps}}<h1>{{credits}}</h1><p><a href=https://sheeptester.github.io/ rel="noopener noreferrer" target=_blank>{{sean}}</a>{{sean-creds}}<p><a href=https://poolehenry.github.io/ rel="noopener noreferrer" target=_blank>{{henry}}</a>{{henry-creds}}<p><a href=https://www.google.com/ rel="noopener noreferrer" target=_blank>{{search}}</a>{{inter-comma}}<a href=https://stackoverflow.com/ rel="noopener noreferrer" target=_blank>{{so}}</a>{{inter-and}}<a href=https://developer.mozilla.org/ rel="noopener noreferrer" target=_blank>{{mdn}}</a>{{service-creds}}<p>{{feature-based}}<p>{{before-material}}<a href=https://material.io/ rel="noopener noreferrer" target=_blank>{{material}}</a>{{after-material}}</div><h1>{{control-centre}}</h1><p>{{control-centre-desc}}<p class=center><button class="material raised ripple-light" id=reload>{{reload}}</button> <button class="material raised ripple-light" id=trick-cache>{{trick-cache}}</button></div><div class=material-dialog id=staffcontact><h1>{{staff-name}}</h1><div class=content></div><div class=buttons><button class="material red close">{{close}}</button></div></div><div class=material-dialog id=clubinfo><h1>{{club-name}}</h1><div class=content></div><div class=buttons><button class="material red" id=club-add-list></button> <button class="material red close">{{close}}</button></div></div><div class=material-dialog id=psadialog><h1>{{psa}}</h1><div class="content block-of-text"></div><div class=buttons><button class="material red close">{{ok}}</button></div></div><div class=material-dialog id=asgn-editor><h1>{{edit-asgn}}</h1><div class=content><textarea class=asgn-text-edit id=asgn-content></textarea><p>{{asgn-before-pd}}<span class=material-dropdown id=period-drop></span>{{asgn-between-pd-date}}<button class=material id=date></button>{{asgn-after-date}}<p>{{category}}<span class=material-dropdown id=cat-drop></span><p class=importance>{{importance}}<button class=material id=low-imp>{{low}}</button><button class=material id=medium-imp>{{medium}}</button><button class=material id=high-imp>{{high}}</button></div><div class=buttons><button class="material red" id=asgn-delete>{{delete-asgn}}</button> <button class="material red close" id=asgn-cancel>{{cancel-asgn}}</button> <button class="material red close" id=asgn-save>{{save-asgn}}</button></div></div><div class=ios-cover id=ios-add-to-home-screen><div class=ios-dialog><h1>{{want-ugwa-normal}}</h1><div class=ios-safari><p class=ios-small>{{safari-only}}<p>{{b4-share-icon}}<span class="ios-img ios-share-icon"></span>{{b4-add-home}}<strong>{{add-home}}</strong>{{b4-add-home-img}}<span class="ios-img ios-add-home"></span>{{b4-add}}<span class=ios-add>{{add}}</span>{{after-add}}</div><div class=ios-not-safari><p>{{use-safari}}</div><div class=ios-button-div><button class="material ripple-dark" id=ios-no-thanks>{{naw}}</button></div></div><div class=ios-ok>{{heaucques}}</div></div>